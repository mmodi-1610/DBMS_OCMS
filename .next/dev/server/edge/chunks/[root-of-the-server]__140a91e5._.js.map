{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 16, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/middleware.js"],"sourcesContent":["import { NextResponse } from 'next/server'\n\nexport function middleware(req) {\n  const { pathname } = req.nextUrl\n\n  // Protect profile routes\n  if (pathname.startsWith('/profile')) {\n    const cookie = req.cookies.get('quadbase_session')\n    if (!cookie?.value) {\n      const url = req.nextUrl.clone()\n      url.pathname = '/'\n      return NextResponse.redirect(url)\n    }\n\n    try {\n      const session = JSON.parse(cookie.value)\n      if (!session || !['student', 'instructor'].includes(session.role)) {\n        const url = req.nextUrl.clone()\n        url.pathname = '/'\n        return NextResponse.redirect(url)\n      }\n    } catch (e) {\n      const url = req.nextUrl.clone()\n      url.pathname = '/'\n      return NextResponse.redirect(url)\n    }\n  }\n\n  return NextResponse.next()\n}\n\nexport const config = {\n  matcher: ['/profile/:path*', '/profile'],\n}\n"],"names":[],"mappings":";;;;;;AAAA;AAAA;;AAEO,SAAS,WAAW,GAAG;IAC5B,MAAM,EAAE,QAAQ,EAAE,GAAG,IAAI,OAAO;IAEhC,yBAAyB;IACzB,IAAI,SAAS,UAAU,CAAC,aAAa;QACnC,MAAM,SAAS,IAAI,OAAO,CAAC,GAAG,CAAC;QAC/B,IAAI,CAAC,QAAQ,OAAO;YAClB,MAAM,MAAM,IAAI,OAAO,CAAC,KAAK;YAC7B,IAAI,QAAQ,GAAG;YACf,OAAO,gMAAY,CAAC,QAAQ,CAAC;QAC/B;QAEA,IAAI;YACF,MAAM,UAAU,KAAK,KAAK,CAAC,OAAO,KAAK;YACvC,IAAI,CAAC,WAAW,CAAC;gBAAC;gBAAW;aAAa,CAAC,QAAQ,CAAC,QAAQ,IAAI,GAAG;gBACjE,MAAM,MAAM,IAAI,OAAO,CAAC,KAAK;gBAC7B,IAAI,QAAQ,GAAG;gBACf,OAAO,gMAAY,CAAC,QAAQ,CAAC;YAC/B;QACF,EAAE,OAAO,GAAG;YACV,MAAM,MAAM,IAAI,OAAO,CAAC,KAAK;YAC7B,IAAI,QAAQ,GAAG;YACf,OAAO,gMAAY,CAAC,QAAQ,CAAC;QAC/B;IACF;IAEA,OAAO,gMAAY,CAAC,IAAI;AAC1B;AAEO,MAAM,SAAS;IACpB,SAAS;QAAC;QAAmB;KAAW;AAC1C"}}]
}