{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///home/ar009/Desktop/DBMS%20Lab/A4/DBMS_OCMS/components/profile-form.jsx"],"sourcesContent":["\"use client\"\n\nimport { useState } from 'react'\n\nexport default function ProfileForm({ role, data }) {\n  const [form, setForm] = useState(() => ({\n    name: data?.name || '',\n    contacts: data?.contacts || '',\n    skill_level: data?.skill_level || '',\n    city: data?.city || '',\n    state: data?.state || '',\n    country: data?.country || '',\n    dob: data?.dob ? new Date(data.dob).toISOString().slice(0,10) : '',\n  }))\n  const [saving, setSaving] = useState(false)\n  const [msg, setMsg] = useState('')\n\n  function updateField(k, v) {\n    setForm((s) => ({ ...s, [k]: v }))\n  }\n\n  async function handleSave(e) {\n    e.preventDefault()\n    setMsg('')\n    setSaving(true)\n    try {\n      const res = await fetch('/api/profile', {\n        method: 'PUT',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ role, ...form }),\n      })\n      const data = await res.json()\n      if (!res.ok) throw new Error(data.error || 'Save failed')\n      setMsg('Saved')\n    } catch (err) {\n      setMsg(err.message)\n    } finally {\n      setSaving(false)\n    }\n  }\n\n  return (\n    <form onSubmit={handleSave} className=\"flex flex-col gap-3\">\n      <div>\n        <label className=\"block text-sm font-medium mb-1\">Name</label>\n        <input\n          className=\"w-full rounded border p-2\"\n          value={form.name}\n          onChange={(e) => updateField('name', e.target.value)}\n        />\n      </div>\n\n      {role === 'student' && (\n        <>\n          <div>\n            <label className=\"block text-sm font-medium mb-1\">Skill Level</label>\n            <input\n              className=\"w-full rounded border p-2\"\n              value={form.skill_level}\n              onChange={(e) => updateField('skill_level', e.target.value)}\n            />\n          </div>\n          <div>\n            <label className=\"block text-sm font-medium mb-1\">City</label>\n            <input\n              className=\"w-full rounded border p-2\"\n              value={form.city}\n              onChange={(e) => updateField('city', e.target.value)}\n            />\n          </div>\n          <div>\n            <label className=\"block text-sm font-medium mb-1\">State</label>\n            <input\n              className=\"w-full rounded border p-2\"\n              value={form.state}\n              onChange={(e) => updateField('state', e.target.value)}\n            />\n          </div>\n          <div>\n            <label className=\"block text-sm font-medium mb-1\">Country</label>\n            <input\n              className=\"w-full rounded border p-2\"\n              value={form.country}\n              onChange={(e) => updateField('country', e.target.value)}\n            />\n          </div>\n          <div>\n            <label className=\"block text-sm font-medium mb-1\">DOB</label>\n            <input\n              type=\"date\"\n              className=\"w-full rounded border p-2\"\n              value={form.dob}\n              onChange={(e) => updateField('dob', e.target.value)}\n            />\n          </div>\n        </>\n      )}\n\n      {role === 'instructor' && (\n        <div>\n          <label className=\"block text-sm font-medium mb-1\">Contacts</label>\n          <input\n            className=\"w-full rounded border p-2\"\n            value={form.contacts}\n            onChange={(e) => updateField('contacts', e.target.value)}\n          />\n        </div>\n      )}\n\n      <div className=\"flex items-center gap-2\">\n        <button type=\"submit\" disabled={saving} className=\"px-3 py-2 rounded bg-primary text-white\">\n          {saving ? 'Saving...' : 'Save'}\n        </button>\n        {msg && <span className=\"text-sm\">{msg}</span>}\n      </div>\n    </form>\n  )\n}\n"],"names":[],"mappings":"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"}}]
}