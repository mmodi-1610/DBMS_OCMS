{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///home/ar009/Desktop/DBMS%20Lab/A4/DBMS_OCMS/components/ui/input.tsx"],"sourcesContent":["import * as React from 'react'\n\nimport { cn } from '@/lib/utils'\n\nconst Input = React.forwardRef<HTMLInputElement, React.ComponentProps<'input'>>(\n  ({ className, type, ...props }, ref) => {\n    return (\n      <input\n        type={type}\n        className={cn(\n          'flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm',\n          className,\n        )}\n        ref={ref}\n        {...props}\n      />\n    )\n  },\n)\nInput.displayName = 'Input'\n\nexport { Input }\n"],"names":[],"mappings":";;;;;AAAA;AAEA;;;;AAEA,MAAM,sBAAQ,2KAAgB,MAC5B,CAAC,EAAE,SAAS,EAAE,IAAI,EAAE,GAAG,OAAO,EAAE;IAC9B,qBACE,6LAAC;QACC,MAAM;QACN,WAAW,IAAA,qHAAE,EACX,kYACA;QAEF,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;;AAEF,MAAM,WAAW,GAAG"}},
    {"offset": {"line": 39, "column": 0}, "map": {"version":3,"sources":["file:///home/ar009/Desktop/DBMS%20Lab/A4/DBMS_OCMS/components/ui/badge.tsx"],"sourcesContent":["import * as React from 'react'\nimport { cva, type VariantProps } from 'class-variance-authority'\n\nimport { cn } from '@/lib/utils'\n\nconst badgeVariants = cva(\n  'inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2',\n  {\n    variants: {\n      variant: {\n        default:\n          'border-transparent bg-primary text-primary-foreground hover:bg-primary/80',\n        secondary:\n          'border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80',\n        destructive:\n          'border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80',\n        outline: 'text-foreground',\n      },\n    },\n    defaultVariants: {\n      variant: 'default',\n    },\n  },\n)\n\nexport interface BadgeProps\n  extends\n    React.HTMLAttributes<HTMLDivElement>,\n    VariantProps<typeof badgeVariants> {}\n\nfunction Badge({ className, variant, ...props }: BadgeProps) {\n  return (\n    <div className={cn(badgeVariants({ variant }), className)} {...props} />\n  )\n}\n\nexport { Badge, badgeVariants }\n"],"names":[],"mappings":";;;;;;;AACA;AAEA;;;;AAEA,MAAM,gBAAgB,IAAA,0KAAG,EACvB,0KACA;IACE,UAAU;QACR,SAAS;YACP,SACE;YACF,WACE;YACF,aACE;YACF,SAAS;QACX;IACF;IACA,iBAAiB;QACf,SAAS;IACX;AACF;AAQF,SAAS,MAAM,EAAE,SAAS,EAAE,OAAO,EAAE,GAAG,OAAmB;IACzD,qBACE,6LAAC;QAAI,WAAW,IAAA,qHAAE,EAAC,cAAc;YAAE;QAAQ,IAAI;QAAa,GAAG,KAAK;;;;;;AAExE;KAJS"}},
    {"offset": {"line": 87, "column": 0}, "map": {"version":3,"sources":["file:///home/ar009/Desktop/DBMS%20Lab/A4/DBMS_OCMS/components/ui/card.tsx"],"sourcesContent":["import * as React from 'react'\n\nimport { cn } from '@/lib/utils'\n\nconst Card = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      'rounded-lg border bg-card text-card-foreground shadow-sm',\n      className,\n    )}\n    {...props}\n  />\n))\nCard.displayName = 'Card'\n\nconst CardHeader = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn('flex flex-col space-y-1.5 p-6', className)}\n    {...props}\n  />\n))\nCardHeader.displayName = 'CardHeader'\n\nconst CardTitle = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      'text-2xl font-semibold leading-none tracking-tight',\n      className,\n    )}\n    {...props}\n  />\n))\nCardTitle.displayName = 'CardTitle'\n\nconst CardDescription = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn('text-sm text-muted-foreground', className)}\n    {...props}\n  />\n))\nCardDescription.displayName = 'CardDescription'\n\nconst CardContent = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn('p-6 pt-0', className)} {...props} />\n))\nCardContent.displayName = 'CardContent'\n\nconst CardFooter = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn('flex items-center p-6 pt-0', className)}\n    {...props}\n  />\n))\nCardFooter.displayName = 'CardFooter'\n\nexport { Card, CardHeader, CardFooter, CardTitle, CardDescription, CardContent }\n"],"names":[],"mappings":";;;;;;;;;;;;;;;AAAA;AAEA;;;;AAEA,MAAM,qBAAO,2KAAgB,MAG3B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,IAAA,qHAAE,EACX,4DACA;QAED,GAAG,KAAK;;;;;;;AAGb,KAAK,WAAW,GAAG;AAEnB,MAAM,2BAAa,2KAAgB,OAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,IAAA,qHAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;;AAGb,WAAW,WAAW,GAAG;AAEzB,MAAM,0BAAY,2KAAgB,OAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,IAAA,qHAAE,EACX,sDACA;QAED,GAAG,KAAK;;;;;;;AAGb,UAAU,WAAW,GAAG;AAExB,MAAM,gCAAkB,2KAAgB,OAGtC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,IAAA,qHAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;;AAGb,gBAAgB,WAAW,GAAG;AAE9B,MAAM,4BAAc,2KAAgB,OAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QAAI,KAAK;QAAK,WAAW,IAAA,qHAAE,EAAC,YAAY;QAAa,GAAG,KAAK;;;;;;;AAEhE,YAAY,WAAW,GAAG;AAE1B,MAAM,2BAAa,2KAAgB,QAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,IAAA,qHAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;;AAGb,WAAW,WAAW,GAAG"}},
    {"offset": {"line": 194, "column": 0}, "map": {"version":3,"sources":["file:///home/ar009/Desktop/DBMS%20Lab/A4/DBMS_OCMS/components/ui/dialog.tsx"],"sourcesContent":["'use client'\n\nimport * as React from 'react'\nimport * as DialogPrimitive from '@radix-ui/react-dialog'\nimport { X } from 'lucide-react'\n\nimport { cn } from '@/lib/utils'\n\nconst Dialog = DialogPrimitive.Root\n\nconst DialogTrigger = DialogPrimitive.Trigger\n\nconst DialogPortal = DialogPrimitive.Portal\n\nconst DialogClose = DialogPrimitive.Close\n\nconst DialogOverlay = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Overlay\n    ref={ref}\n    className={cn(\n      'fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0',\n      className,\n    )}\n    {...props}\n  />\n))\nDialogOverlay.displayName = DialogPrimitive.Overlay.displayName\n\nconst DialogContent = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <DialogPortal>\n    <DialogOverlay />\n    <DialogPrimitive.Content\n      ref={ref}\n      className={cn(\n        'fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg',\n        className,\n      )}\n      {...props}\n    >\n      {children}\n      <DialogPrimitive.Close className=\"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground\">\n        <X className=\"h-4 w-4\" />\n        <span className=\"sr-only\">Close</span>\n      </DialogPrimitive.Close>\n    </DialogPrimitive.Content>\n  </DialogPortal>\n))\nDialogContent.displayName = DialogPrimitive.Content.displayName\n\nconst DialogHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      'flex flex-col space-y-1.5 text-center sm:text-left',\n      className,\n    )}\n    {...props}\n  />\n)\nDialogHeader.displayName = 'DialogHeader'\n\nconst DialogFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      'flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2',\n      className,\n    )}\n    {...props}\n  />\n)\nDialogFooter.displayName = 'DialogFooter'\n\nconst DialogTitle = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Title\n    ref={ref}\n    className={cn(\n      'text-lg font-semibold leading-none tracking-tight',\n      className,\n    )}\n    {...props}\n  />\n))\nDialogTitle.displayName = DialogPrimitive.Title.displayName\n\nconst DialogDescription = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Description\n    ref={ref}\n    className={cn('text-sm text-muted-foreground', className)}\n    {...props}\n  />\n))\nDialogDescription.displayName = DialogPrimitive.Description.displayName\n\nexport {\n  Dialog,\n  DialogPortal,\n  DialogOverlay,\n  DialogClose,\n  DialogTrigger,\n  DialogContent,\n  DialogHeader,\n  DialogFooter,\n  DialogTitle,\n  DialogDescription,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAEA;AACA;AACA;AAEA;AANA;;;;;;AAQA,MAAM,SAAS,6KAAoB;AAEnC,MAAM,gBAAgB,gLAAuB;AAE7C,MAAM,eAAe,+KAAsB;AAE3C,MAAM,cAAc,8KAAqB;AAEzC,MAAM,8BAAgB,2KAAgB,CAGpC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,gLAAuB;QACtB,KAAK;QACL,WAAW,IAAA,qHAAE,EACX,2JACA;QAED,GAAG,KAAK;;;;;;KAVP;AAaN,cAAc,WAAW,GAAG,gLAAuB,CAAC,WAAW;AAE/D,MAAM,8BAAgB,2KAAgB,OAGpC,CAAC,EAAE,SAAS,EAAE,QAAQ,EAAE,GAAG,OAAO,EAAE,oBACpC,6LAAC;;0BACC,6LAAC;;;;;0BACD,6LAAC,gLAAuB;gBACtB,KAAK;gBACL,WAAW,IAAA,qHAAE,EACX,+fACA;gBAED,GAAG,KAAK;;oBAER;kCACD,6LAAC,8KAAqB;wBAAC,WAAU;;0CAC/B,6LAAC,oMAAC;gCAAC,WAAU;;;;;;0CACb,6LAAC;gCAAK,WAAU;0CAAU;;;;;;;;;;;;;;;;;;;;;;;;;AAKlC,cAAc,WAAW,GAAG,gLAAuB,CAAC,WAAW;AAE/D,MAAM,eAAe,CAAC,EACpB,SAAS,EACT,GAAG,OACkC,iBACrC,6LAAC;QACC,WAAW,IAAA,qHAAE,EACX,sDACA;QAED,GAAG,KAAK;;;;;;MATP;AAYN,aAAa,WAAW,GAAG;AAE3B,MAAM,eAAe,CAAC,EACpB,SAAS,EACT,GAAG,OACkC,iBACrC,6LAAC;QACC,WAAW,IAAA,qHAAE,EACX,iEACA;QAED,GAAG,KAAK;;;;;;MATP;AAYN,aAAa,WAAW,GAAG;AAE3B,MAAM,4BAAc,2KAAgB,OAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,8KAAqB;QACpB,KAAK;QACL,WAAW,IAAA,qHAAE,EACX,qDACA;QAED,GAAG,KAAK;;;;;;;AAGb,YAAY,WAAW,GAAG,8KAAqB,CAAC,WAAW;AAE3D,MAAM,kCAAoB,2KAAgB,OAGxC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,oLAA2B;QAC1B,KAAK;QACL,WAAW,IAAA,qHAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;;AAGb,kBAAkB,WAAW,GAAG,oLAA2B,CAAC,WAAW"}},
    {"offset": {"line": 353, "column": 0}, "map": {"version":3,"sources":["file:///home/ar009/Desktop/DBMS%20Lab/A4/DBMS_OCMS/components/dashboards/student-dashboard.jsx"],"sourcesContent":["\"use client\";\n\nimport { useState } from \"react\";\nimport { useRouter } from \"next/navigation\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Badge } from \"@/components/ui/badge\";\nimport {\n  Card,\n  CardContent,\n  CardDescription,\n  CardHeader,\n  CardTitle,\n} from \"@/components/ui/card\";\nimport {\n  Dialog,\n  DialogContent,\n  DialogDescription,\n  DialogHeader,\n  DialogTitle,\n} from \"@/components/ui/dialog\";\nimport { Search, BookOpen, Clock, GraduationCap, Loader2 } from \"lucide-react\";\n\nexport function StudentDashboard({ user, data }) {\n  const { student, enrollments, courses } = data;\n  const [search, setSearch] = useState(\"\");\n  const [selectedCourse, setSelectedCourse] = useState(null);\n  const [enrolling, setEnrolling] = useState(false);\n  const [processing, setProcessing] = useState(false); // for cancel/delete\n  const router = useRouter();\n\n  const approvedCourseIds = new Set(\n    enrollments.filter((e) => e.approved).map((e) => e.course_id)\n  );\n  const pendingCourseIds = new Set(\n    enrollments.filter((e) => !e.approved).map((e) => e.course_id)\n  );\n\n  const filteredCourses = courses.filter((c) => {\n    const name = c.course_name.toLowerCase();\n    const program = c.program_type.toLowerCase();\n    const q = search.toLowerCase();\n    return name.includes(q) || program.includes(q);\n  });\n\n  async function handleEnroll(courseId) {\n    if (!student) return;\n    setEnrolling(true);\n    try {\n      const res = await fetch(\"/api/enroll\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({\n          courseId,\n          studentId: student.student_id,\n        }),\n      });\n      if (res.ok) {\n        setSelectedCourse(null);\n        router.refresh();\n      } else {\n        // optionally handle non-ok response\n        console.error(\"Enroll failed\", await res.text());\n      }\n    } catch (err) {\n      console.error(err);\n    } finally {\n      setEnrolling(false);\n    }\n  }\n\n  async function handleCancel(courseId) {\n    if (!student) return;\n    setProcessing(true);\n    try {\n      const res = await fetch(\"/api/enroll\", {\n        method: \"DELETE\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({ courseId, studentId: student.student_id }),\n      });\n      if (res.ok) {\n        setSelectedCourse(null);\n        router.refresh();\n      } else {\n        console.error(\"Cancel request failed\", await res.text());\n      }\n    } catch (err) {\n      console.error(err);\n    } finally {\n      setProcessing(false);\n    }\n  }\n\n  return (\n    <div className=\"flex flex-col gap-6 p-6 lg:p-8\">\n      <div id=\"dashboard\">\n        <h1 className=\"text-2xl font-bold text-foreground font-serif\">\n          Welcome back, {student ? student.name : user.username}\n        </h1>\n        <p className=\"text-muted-foreground\">\n          Browse courses and track your progress\n        </p>\n      </div>\n\n      {/* Stats Row */}\n      <div className=\"grid grid-cols-1 gap-4 sm:grid-cols-3\">\n        <Card>\n          <CardContent className=\"flex items-center gap-4 p-4\">\n            <div className=\"flex h-10 w-10 items-center justify-center rounded-lg bg-primary/10\">\n              <BookOpen className=\"h-5 w-5 text-primary\" />\n            </div>\n            <div>\n              <p className=\"text-2xl font-bold text-foreground\">\n                {enrollments.length}\n              </p>\n              <p className=\"text-sm text-muted-foreground\">Enrolled Courses</p>\n            </div>\n          </CardContent>\n        </Card>\n        <Card>\n          <CardContent className=\"flex items-center gap-4 p-4\">\n            <div className=\"flex h-10 w-10 items-center justify-center rounded-lg bg-accent/20\">\n              <GraduationCap className=\"h-5 w-5 text-accent-foreground\" />\n            </div>\n            <div>\n              <p className=\"text-2xl font-bold text-foreground\">\n                {enrollments.filter((e) => e.evaluation !== null).length}\n              </p>\n              <p className=\"text-sm text-muted-foreground\">Graded</p>\n            </div>\n          </CardContent>\n        </Card>\n        <Card>\n          <CardContent className=\"flex items-center gap-4 p-4\">\n            <div className=\"flex h-10 w-10 items-center justify-center rounded-lg bg-chart-3/10\">\n              <Clock className=\"h-5 w-5 text-chart-3\" />\n            </div>\n            <div>\n              <p className=\"text-2xl font-bold text-foreground\">\n                {student?.skill_level || \"N/A\"}\n              </p>\n              <p className=\"text-sm text-muted-foreground\">Skill Level</p>\n            </div>\n          </CardContent>\n        </Card>\n      </div>\n\n      {/* My Enrollments */}\n      {enrollments.length > 0 && (\n        <Card>\n          <CardHeader>\n            <CardTitle className=\"font-serif\">My Enrollments</CardTitle>\n            <CardDescription>Your current courses and grades</CardDescription>\n          </CardHeader>\n          <CardContent>\n            <div className=\"overflow-x-auto\">\n              <table className=\"w-full text-sm\">\n                <thead>\n                  <tr className=\"border-b text-left text-muted-foreground\">\n                    <th className=\"pb-3 pr-4 font-medium\">Course</th>\n                    <th className=\"pb-3 pr-4 font-medium\">Program</th>\n                    <th className=\"pb-3 pr-4 font-medium\">Duration</th>\n                    <th className=\"pb-3 pr-4 font-medium\">Enrolled</th>\n                    <th className=\"pb-3 font-medium\">Grade</th>\n                  </tr>\n                </thead>\n                <tbody className=\"divide-y\">\n                  {enrollments.map((e) => (\n                    <tr key={e.enroll_id}>\n                      <td className=\"py-3 pr-4 font-medium text-foreground\">\n                        {e.course_name}\n                      </td>\n                      <td className=\"py-3 pr-4\">\n                        <Badge variant=\"secondary\">{e.program_type}</Badge>\n                      </td>\n                      <td className=\"py-3 pr-4 text-muted-foreground\">\n                        {e.duration}\n                      </td>\n                      <td className=\"py-3 pr-4 text-muted-foreground\">\n                        {e.approved && e.enroll_date\n                          ? new Date(e.enroll_date).toLocaleDateString()\n                          : \"Requested\"}\n                      </td>\n                      <td className=\"py-3\">\n                        {e.evaluation !== null ? (\n                          <Badge\n                            variant={e.evaluation >= 70 ? \"default\" : \"destructive\"}\n                          >\n                            {e.evaluation}/100\n                          </Badge>\n                        ) : e.approved ? (\n                          <Badge variant=\"outline\">In Progress</Badge>\n                        ) : (\n                          <Badge variant=\"secondary\">Request Pending</Badge>\n                        )}\n                      </td>\n                    </tr>\n                  ))}\n                </tbody>\n              </table>\n            </div>\n          </CardContent>\n        </Card>\n      )}\n\n      {/* Browse Courses */}\n      <Card id=\"browse-courses\">\n        <CardHeader>\n          <div className=\"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between\">\n            <div>\n              <CardTitle className=\"font-serif\">Browse Courses</CardTitle>\n              <CardDescription>Find and enroll in available courses</CardDescription>\n            </div>\n            <div className=\"relative w-full sm:w-72\">\n              <Search className=\"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground\" />\n              <Input\n                placeholder=\"Search courses...\"\n                value={search}\n                onChange={(e) => setSearch(e.target.value)}\n                className=\"pl-9\"\n              />\n            </div>\n          </div>\n        </CardHeader>\n        <CardContent>\n          <div className=\"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-3\">\n            {filteredCourses.map((course) => {\n              const isApproved = approvedCourseIds.has(course.course_id);\n              const isPending = pendingCourseIds.has(course.course_id);\n              return (\n                <Card\n                  key={course.course_id}\n                  className=\"cursor-pointer transition-shadow hover:shadow-md\"\n                  onClick={() => setSelectedCourse(course)}\n                >\n                  <CardContent className=\"flex flex-col gap-3 p-4\">\n                    <div className=\"flex items-start justify-between gap-2\">\n                      <h3 className=\"font-medium text-foreground leading-tight\">\n                        {course.course_name}\n                      </h3>\n                      {isApproved && (\n                        <Badge variant=\"default\" className=\"shrink-0\">\n                          Enrolled\n                        </Badge>\n                      )}\n                      {isPending && (\n                        <Badge variant=\"secondary\" className=\"shrink-0\">\n                          Request Pending\n                        </Badge>\n                      )}\n                    </div>\n                    <div className=\"flex items-center gap-2 text-sm text-muted-foreground\">\n                      <Badge variant=\"secondary\">{course.program_type}</Badge>\n                      <span className=\"flex items-center gap-1\">\n                        <Clock className=\"h-3 w-3\" />\n                        {course.duration}\n                      </span>\n                    </div>\n                    {course.notes && (\n                      <p className=\"text-sm text-muted-foreground line-clamp-2\">\n                        {course.notes}\n                      </p>\n                    )}\n                  </CardContent>\n                </Card>\n              );\n            })}\n          </div>\n          {filteredCourses.length === 0 && (\n            <p className=\"py-8 text-center text-muted-foreground\">\n              No courses found matching your search.\n            </p>\n          )}\n        </CardContent>\n      </Card>\n\n      {/* Course Detail Dialog */}\n      <Dialog\n        open={!!selectedCourse}\n        onOpenChange={(open) => {\n          if (!open) setSelectedCourse(null);\n        }}\n      >\n        {selectedCourse && (\n          <DialogContent>\n            <DialogHeader>\n              <DialogTitle className=\"font-serif\">\n                {selectedCourse.course_name}\n              </DialogTitle>\n              <DialogDescription>\n                {selectedCourse.program_type} &middot; {selectedCourse.duration}\n              </DialogDescription>\n            </DialogHeader>\n            <div className=\"flex flex-col gap-4\">\n              {selectedCourse.notes && (\n                <div>\n                  <h4 className=\"mb-1 text-sm font-medium text-foreground\">Notes</h4>\n                  <p className=\"text-sm text-muted-foreground\">{selectedCourse.notes}</p>\n                </div>\n              )}\n              {selectedCourse.video && (\n                <div>\n                  <h4 className=\"mb-1 text-sm font-medium text-foreground\">Video</h4>\n                  <a\n                    href={selectedCourse.video}\n                    className=\"text-sm text-primary underline\"\n                    target=\"_blank\"\n                    rel=\"noopener noreferrer\"\n                  >\n                    {selectedCourse.video}\n                  </a>\n                </div>\n              )}\n\n              {/* Enrollment / status actions */}\n              {student && !approvedCourseIds.has(selectedCourse.course_id) && !pendingCourseIds.has(selectedCourse.course_id) && (\n                <Button onClick={() => handleEnroll(selectedCourse.course_id)} disabled={enrolling}>\n                  {enrolling ? (\n                    <>\n                      <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" />\n                      Requesting...\n                    </>\n                  ) : (\n                    \"Request Enrollment\"\n                  )}\n                </Button>\n              )}\n\n              {pendingCourseIds.has(selectedCourse.course_id) && (\n                <div className=\"flex items-center gap-2\">\n                  <Badge variant=\"secondary\" className=\"w-fit\">Request Pending</Badge>\n                  <Button onClick={() => handleCancel(selectedCourse.course_id)} disabled={processing} variant=\"ghost\">\n                    {processing ? (\n                      <>\n                        <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" />\n                        Cancelling...\n                      </>\n                    ) : (\n                      \"Cancel Request\"\n                    )}\n                  </Button>\n                </div>\n              )}\n\n              {approvedCourseIds.has(selectedCourse.course_id) && (\n                <Badge variant=\"default\" className=\"w-fit\">Already Enrolled</Badge>\n              )}\n            </div>\n          </DialogContent>\n        )}\n      </Dialog>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1232, "column": 0}, "map": {"version":3,"sources":["file:///home/ar009/Desktop/DBMS%20Lab/A4/DBMS_OCMS/components/ui/label.tsx"],"sourcesContent":["'use client'\n\nimport * as React from 'react'\nimport * as LabelPrimitive from '@radix-ui/react-label'\nimport { cva, type VariantProps } from 'class-variance-authority'\n\nimport { cn } from '@/lib/utils'\n\nconst labelVariants = cva(\n  'text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70',\n)\n\nconst Label = React.forwardRef<\n  React.ElementRef<typeof LabelPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root> &\n    VariantProps<typeof labelVariants>\n>(({ className, ...props }, ref) => (\n  <LabelPrimitive.Root\n    ref={ref}\n    className={cn(labelVariants(), className)}\n    {...props}\n  />\n))\nLabel.displayName = LabelPrimitive.Root.displayName\n\nexport { Label }\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAEA;AANA;;;;;;AAQA,MAAM,gBAAgB,IAAA,0KAAG,EACvB;AAGF,MAAM,sBAAQ,2KAAgB,MAI5B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,4KAAmB;QAClB,KAAK;QACL,WAAW,IAAA,qHAAE,EAAC,iBAAiB;QAC9B,GAAG,KAAK;;;;;;;AAGb,MAAM,WAAW,GAAG,4KAAmB,CAAC,WAAW"}},
    {"offset": {"line": 1270, "column": 0}, "map": {"version":3,"sources":["file:///home/ar009/Desktop/DBMS%20Lab/A4/DBMS_OCMS/components/ui/textarea.tsx"],"sourcesContent":["import * as React from 'react'\n\nimport { cn } from '@/lib/utils'\n\nconst Textarea = React.forwardRef<\n  HTMLTextAreaElement,\n  React.ComponentProps<'textarea'>\n>(({ className, ...props }, ref) => {\n  return (\n    <textarea\n      className={cn(\n        'flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm',\n        className,\n      )}\n      ref={ref}\n      {...props}\n    />\n  )\n})\nTextarea.displayName = 'Textarea'\n\nexport { Textarea }\n"],"names":[],"mappings":";;;;;AAAA;AAEA;;;;AAEA,MAAM,yBAAW,2KAAgB,MAG/B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE;IAC1B,qBACE,6LAAC;QACC,WAAW,IAAA,qHAAE,EACX,qTACA;QAEF,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;;AACA,SAAS,WAAW,GAAG"}},
    {"offset": {"line": 1304, "column": 0}, "map": {"version":3,"sources":["file:///home/ar009/Desktop/DBMS%20Lab/A4/DBMS_OCMS/components/dashboards/instructor-dashboard.jsx"],"sourcesContent":["\"use client\";\n\nimport { useState } from \"react\";\nimport { useRouter } from \"next/navigation\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Label } from \"@/components/ui/label\";\nimport { Textarea } from \"@/components/ui/textarea\";\nimport { Badge } from \"@/components/ui/badge\";\nimport {\n  Card,\n  CardContent,\n  CardDescription,\n  CardHeader,\n  CardTitle,\n} from \"@/components/ui/card\";\nimport { BookOpen, Video, FileText, Loader2, CheckCircle2 } from \"lucide-react\";\n\nexport function InstructorDashboard({ user, data }) {\n  const { instructor, courses } = data;\n  const [selectedCourseId, setSelectedCourseId] = useState(null);\n  const [notes, setNotes] = useState(\"\");\n  const [videoUrl, setVideoUrl] = useState(\"\");\n  const [saving, setSaving] = useState(false);\n  const [saved, setSaved] = useState(false);\n  const router = useRouter();\n\n  const selectedCourse = courses.find(\n    (c) => c.course_id === selectedCourseId\n  );\n\n  function selectCourse(courseId) {\n    const course = courses.find((c) => c.course_id === courseId);\n    if (course) {\n      setSelectedCourseId(courseId);\n      setNotes(course.notes || \"\");\n      setVideoUrl(course.video || \"\");\n      setSaved(false);\n    }\n  }\n\n  async function handleSave() {\n    if (!selectedCourseId) return;\n    setSaving(true);\n    try {\n      const res = await fetch(\"/api/courses/update\", {\n        method: \"PUT\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({\n          courseId: selectedCourseId,\n          notes,\n          video: videoUrl,\n        }),\n      });\n      if (res.ok) {\n        setSaved(true);\n        router.refresh();\n      }\n    } finally {\n      setSaving(false);\n    }\n  }\n\n  return (\n    <div className=\"flex flex-col gap-6 p-6 lg:p-8\">\n      <div id=\"dashboard\">\n        <h1 className=\"text-2xl font-bold text-foreground font-serif\">\n          Instructor Dashboard\n        </h1>\n        <p className=\"text-muted-foreground\">\n          Welcome, {instructor ? instructor.name : user.username}\n          {instructor?.contacts && (\n            <span className=\"ml-1\">&middot; {instructor.contacts}</span>\n          )}\n        </p>\n      </div>\n\n      <div id=\"my-courses\" className=\"grid grid-cols-1 gap-6 lg:grid-cols-3\">\n        {/* Course List */}\n        <Card className=\"lg:col-span-1\">\n          <CardHeader>\n            <CardTitle className=\"text-base font-serif\">My Courses</CardTitle>\n            <CardDescription>\n              {courses.length} course{courses.length !== 1 && \"s\"} assigned\n            </CardDescription>\n          </CardHeader>\n          <CardContent className=\"flex flex-col gap-2\">\n            {courses.map((course) => (\n              <button\n                type=\"button\"\n                key={course.course_id}\n                onClick={() => selectCourse(course.course_id)}\n                className={`flex items-center gap-3 rounded-lg px-3 py-2.5 text-left text-sm transition-colors ${\n                  selectedCourseId === course.course_id\n                    ? \"bg-primary text-primary-foreground\"\n                    : \"bg-secondary text-secondary-foreground hover:bg-secondary/80\"\n                }`}\n              >\n                <BookOpen className=\"h-4 w-4 shrink-0\" />\n                <div className=\"flex-1 overflow-hidden\">\n                  <p className=\"truncate font-medium\">{course.course_name}</p>\n                  <p\n                    className={`text-xs ${\n                      selectedCourseId === course.course_id\n                        ? \"text-primary-foreground/70\"\n                        : \"text-muted-foreground\"\n                    }`}\n                  >\n                    {course.program_type} &middot; {course.duration}\n                  </p>\n                </div>\n              </button>\n            ))}\n            {courses.length === 0 && (\n              <p className=\"py-4 text-center text-sm text-muted-foreground\">\n                No courses assigned yet.\n              </p>\n            )}\n          </CardContent>\n        </Card>\n\n        {/* Course Editor */}\n        <Card className=\"lg:col-span-2\">\n          {selectedCourse ? (\n            <>\n              <CardHeader>\n                <div className=\"flex items-start justify-between\">\n                  <div>\n                    <CardTitle className=\"font-serif\">\n                      {selectedCourse.course_name}\n                    </CardTitle>\n                    <CardDescription>\n                      <Badge variant=\"secondary\" className=\"mt-1\">\n                        {selectedCourse.program_type}\n                      </Badge>\n                    </CardDescription>\n                  </div>\n                  {saved && (\n                    <Badge\n                      variant=\"outline\"\n                      className=\"gap-1 border-chart-3 text-chart-3\"\n                    >\n                      <CheckCircle2 className=\"h-3 w-3\" />\n                      Saved\n                    </Badge>\n                  )}\n                </div>\n              </CardHeader>\n              <CardContent className=\"flex flex-col gap-5\">\n                <div className=\"flex flex-col gap-2\">\n                  <Label\n                    htmlFor=\"notes\"\n                    className=\"flex items-center gap-2 text-foreground\"\n                  >\n                    <FileText className=\"h-4 w-4\" />\n                    Course Notes\n                  </Label>\n                  <Textarea\n                    id=\"notes\"\n                    rows={6}\n                    placeholder=\"Enter course notes or a URL to notes...\"\n                    value={notes}\n                    onChange={(e) => {\n                      setNotes(e.target.value);\n                      setSaved(false);\n                    }}\n                  />\n                </div>\n                <div className=\"flex flex-col gap-2\">\n                  <Label\n                    htmlFor=\"video\"\n                    className=\"flex items-center gap-2 text-foreground\"\n                  >\n                    <Video className=\"h-4 w-4\" />\n                    Video URL\n                  </Label>\n                  <Input\n                    id=\"video\"\n                    type=\"url\"\n                    placeholder=\"https://example.com/video\"\n                    value={videoUrl}\n                    onChange={(e) => {\n                      setVideoUrl(e.target.value);\n                      setSaved(false);\n                    }}\n                  />\n                </div>\n                <Button onClick={handleSave} disabled={saving} className=\"w-fit\">\n                  {saving ? (\n                    <>\n                      <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" />\n                      Saving...\n                    </>\n                  ) : (\n                    \"Save Changes\"\n                  )}\n                </Button>\n              </CardContent>\n            </>\n          ) : (\n            <CardContent className=\"flex h-64 items-center justify-center\">\n              <div className=\"text-center\">\n                <BookOpen className=\"mx-auto mb-3 h-10 w-10 text-muted-foreground/40\" />\n                <p className=\"text-muted-foreground\">\n                  Select a course to manage its content\n                </p>\n              </div>\n            </CardContent>\n          )}\n        </Card>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1768, "column": 0}, "map": {"version":3,"sources":["file:///home/ar009/Desktop/DBMS%20Lab/A4/DBMS_OCMS/components/ui/select.tsx"],"sourcesContent":["'use client'\n\nimport * as React from 'react'\nimport * as SelectPrimitive from '@radix-ui/react-select'\nimport { Check, ChevronDown, ChevronUp } from 'lucide-react'\n\nimport { cn } from '@/lib/utils'\n\nconst Select = SelectPrimitive.Root\n\nconst SelectGroup = SelectPrimitive.Group\n\nconst SelectValue = SelectPrimitive.Value\n\nconst SelectTrigger = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Trigger>\n>(({ className, children, ...props }, ref) => (\n  <SelectPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      'flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1',\n      className,\n    )}\n    {...props}\n  >\n    {children}\n    <SelectPrimitive.Icon asChild>\n      <ChevronDown className=\"h-4 w-4 opacity-50\" />\n    </SelectPrimitive.Icon>\n  </SelectPrimitive.Trigger>\n))\nSelectTrigger.displayName = SelectPrimitive.Trigger.displayName\n\nconst SelectScrollUpButton = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.ScrollUpButton>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollUpButton>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.ScrollUpButton\n    ref={ref}\n    className={cn(\n      'flex cursor-default items-center justify-center py-1',\n      className,\n    )}\n    {...props}\n  >\n    <ChevronUp className=\"h-4 w-4\" />\n  </SelectPrimitive.ScrollUpButton>\n))\nSelectScrollUpButton.displayName = SelectPrimitive.ScrollUpButton.displayName\n\nconst SelectScrollDownButton = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.ScrollDownButton>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollDownButton>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.ScrollDownButton\n    ref={ref}\n    className={cn(\n      'flex cursor-default items-center justify-center py-1',\n      className,\n    )}\n    {...props}\n  >\n    <ChevronDown className=\"h-4 w-4\" />\n  </SelectPrimitive.ScrollDownButton>\n))\nSelectScrollDownButton.displayName =\n  SelectPrimitive.ScrollDownButton.displayName\n\nconst SelectContent = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Content>\n>(({ className, children, position = 'popper', ...props }, ref) => (\n  <SelectPrimitive.Portal>\n    <SelectPrimitive.Content\n      ref={ref}\n      className={cn(\n        'relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2',\n        position === 'popper' &&\n          'data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1',\n        className,\n      )}\n      position={position}\n      {...props}\n    >\n      <SelectScrollUpButton />\n      <SelectPrimitive.Viewport\n        className={cn(\n          'p-1',\n          position === 'popper' &&\n            'h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]',\n        )}\n      >\n        {children}\n      </SelectPrimitive.Viewport>\n      <SelectScrollDownButton />\n    </SelectPrimitive.Content>\n  </SelectPrimitive.Portal>\n))\nSelectContent.displayName = SelectPrimitive.Content.displayName\n\nconst SelectLabel = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Label>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.Label\n    ref={ref}\n    className={cn('py-1.5 pl-8 pr-2 text-sm font-semibold', className)}\n    {...props}\n  />\n))\nSelectLabel.displayName = SelectPrimitive.Label.displayName\n\nconst SelectItem = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Item>\n>(({ className, children, ...props }, ref) => (\n  <SelectPrimitive.Item\n    ref={ref}\n    className={cn(\n      'relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50',\n      className,\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <SelectPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </SelectPrimitive.ItemIndicator>\n    </span>\n\n    <SelectPrimitive.ItemText>{children}</SelectPrimitive.ItemText>\n  </SelectPrimitive.Item>\n))\nSelectItem.displayName = SelectPrimitive.Item.displayName\n\nconst SelectSeparator = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.Separator\n    ref={ref}\n    className={cn('-mx-1 my-1 h-px bg-muted', className)}\n    {...props}\n  />\n))\nSelectSeparator.displayName = SelectPrimitive.Separator.displayName\n\nexport {\n  Select,\n  SelectGroup,\n  SelectValue,\n  SelectTrigger,\n  SelectContent,\n  SelectLabel,\n  SelectItem,\n  SelectSeparator,\n  SelectScrollUpButton,\n  SelectScrollDownButton,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAEA;AACA;AACA;AAAA;AAAA;AAEA;AANA;;;;;;AAQA,MAAM,SAAS,6KAAoB;AAEnC,MAAM,cAAc,8KAAqB;AAEzC,MAAM,cAAc,8KAAqB;AAEzC,MAAM,8BAAgB,2KAAgB,MAGpC,CAAC,EAAE,SAAS,EAAE,QAAQ,EAAE,GAAG,OAAO,EAAE,oBACpC,6LAAC,gLAAuB;QACtB,KAAK;QACL,WAAW,IAAA,qHAAE,EACX,mTACA;QAED,GAAG,KAAK;;YAER;0BACD,6LAAC,6KAAoB;gBAAC,OAAO;0BAC3B,cAAA,6LAAC,sOAAW;oBAAC,WAAU;;;;;;;;;;;;;;;;;;AAI7B,cAAc,WAAW,GAAG,gLAAuB,CAAC,WAAW;AAE/D,MAAM,qCAAuB,2KAAgB,CAG3C,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,uLAA8B;QAC7B,KAAK;QACL,WAAW,IAAA,qHAAE,EACX,wDACA;QAED,GAAG,KAAK;kBAET,cAAA,6LAAC,gOAAS;YAAC,WAAU;;;;;;;;;;;MAZnB;AAeN,qBAAqB,WAAW,GAAG,uLAA8B,CAAC,WAAW;AAE7E,MAAM,uCAAyB,2KAAgB,CAG7C,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,yLAAgC;QAC/B,KAAK;QACL,WAAW,IAAA,qHAAE,EACX,wDACA;QAED,GAAG,KAAK;kBAET,cAAA,6LAAC,sOAAW;YAAC,WAAU;;;;;;;;;;;MAZrB;AAeN,uBAAuB,WAAW,GAChC,yLAAgC,CAAC,WAAW;AAE9C,MAAM,8BAAgB,2KAAgB,OAGpC,CAAC,EAAE,SAAS,EAAE,QAAQ,EAAE,WAAW,QAAQ,EAAE,GAAG,OAAO,EAAE,oBACzD,6LAAC,+KAAsB;kBACrB,cAAA,6LAAC,gLAAuB;YACtB,KAAK;YACL,WAAW,IAAA,qHAAE,EACX,ucACA,aAAa,YACX,mIACF;YAEF,UAAU;YACT,GAAG,KAAK;;8BAET,6LAAC;;;;;8BACD,6LAAC,iLAAwB;oBACvB,WAAW,IAAA,qHAAE,EACX,OACA,aAAa,YACX;8BAGH;;;;;;8BAEH,6LAAC;;;;;;;;;;;;;;;;;AAIP,cAAc,WAAW,GAAG,gLAAuB,CAAC,WAAW;AAE/D,MAAM,4BAAc,2KAAgB,OAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,8KAAqB;QACpB,KAAK;QACL,WAAW,IAAA,qHAAE,EAAC,0CAA0C;QACvD,GAAG,KAAK;;;;;;;AAGb,YAAY,WAAW,GAAG,8KAAqB,CAAC,WAAW;AAE3D,MAAM,2BAAa,2KAAgB,OAGjC,CAAC,EAAE,SAAS,EAAE,QAAQ,EAAE,GAAG,OAAO,EAAE,oBACpC,6LAAC,6KAAoB;QACnB,KAAK;QACL,WAAW,IAAA,qHAAE,EACX,6NACA;QAED,GAAG,KAAK;;0BAET,6LAAC;gBAAK,WAAU;0BACd,cAAA,6LAAC,sLAA6B;8BAC5B,cAAA,6LAAC,gNAAK;wBAAC,WAAU;;;;;;;;;;;;;;;;0BAIrB,6LAAC,iLAAwB;0BAAE;;;;;;;;;;;;;AAG/B,WAAW,WAAW,GAAG,6KAAoB,CAAC,WAAW;AAEzD,MAAM,gCAAkB,2KAAgB,QAGtC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,kLAAyB;QACxB,KAAK;QACL,WAAW,IAAA,qHAAE,EAAC,4BAA4B;QACzC,GAAG,KAAK;;;;;;;AAGb,gBAAgB,WAAW,GAAG,kLAAyB,CAAC,WAAW"}},
    {"offset": {"line": 1991, "column": 0}, "map": {"version":3,"sources":["file:///home/ar009/Desktop/DBMS%20Lab/A4/DBMS_OCMS/components/ui/tabs.tsx"],"sourcesContent":["'use client'\n\nimport * as React from 'react'\nimport * as TabsPrimitive from '@radix-ui/react-tabs'\n\nimport { cn } from '@/lib/utils'\n\nconst Tabs = TabsPrimitive.Root\n\nconst TabsList = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.List>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.List>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.List\n    ref={ref}\n    className={cn(\n      'inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground',\n      className,\n    )}\n    {...props}\n  />\n))\nTabsList.displayName = TabsPrimitive.List.displayName\n\nconst TabsTrigger = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Trigger>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      'inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm',\n      className,\n    )}\n    {...props}\n  />\n))\nTabsTrigger.displayName = TabsPrimitive.Trigger.displayName\n\nconst TabsContent = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.Content\n    ref={ref}\n    className={cn(\n      'mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2',\n      className,\n    )}\n    {...props}\n  />\n))\nTabsContent.displayName = TabsPrimitive.Content.displayName\n\nexport { Tabs, TabsList, TabsTrigger, TabsContent }\n"],"names":[],"mappings":";;;;;;;;;;;AAEA;AACA;AAEA;AALA;;;;;AAOA,MAAM,OAAO,2KAAkB;AAE/B,MAAM,yBAAW,2KAAgB,MAG/B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,2KAAkB;QACjB,KAAK;QACL,WAAW,IAAA,qHAAE,EACX,8FACA;QAED,GAAG,KAAK;;;;;;;AAGb,SAAS,WAAW,GAAG,2KAAkB,CAAC,WAAW;AAErD,MAAM,4BAAc,2KAAgB,OAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,8KAAqB;QACpB,KAAK;QACL,WAAW,IAAA,qHAAE,EACX,uYACA;QAED,GAAG,KAAK;;;;;;;AAGb,YAAY,WAAW,GAAG,8KAAqB,CAAC,WAAW;AAE3D,MAAM,4BAAc,2KAAgB,OAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,8KAAqB;QACpB,KAAK;QACL,WAAW,IAAA,qHAAE,EACX,mIACA;QAED,GAAG,KAAK;;;;;;;AAGb,YAAY,WAAW,GAAG,8KAAqB,CAAC,WAAW"}},
    {"offset": {"line": 2059, "column": 0}, "map": {"version":3,"sources":["file:///home/ar009/Desktop/DBMS%20Lab/A4/DBMS_OCMS/components/dashboards/admin-dashboard.jsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useEffect, useCallback } from \"react\";\nimport { useRouter } from \"next/navigation\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Label } from \"@/components/ui/label\";\nimport { Badge } from \"@/components/ui/badge\";\nimport {\n  Card,\n  CardContent,\n  CardDescription,\n  CardHeader,\n  CardTitle,\n} from \"@/components/ui/card\";\nimport {\n  Dialog,\n  DialogContent,\n  DialogDescription,\n  DialogHeader,\n  DialogTitle,\n  DialogTrigger,\n} from \"@/components/ui/dialog\";\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from \"@/components/ui/select\";\nimport {\n  Tabs,\n  TabsContent,\n  TabsList,\n  TabsTrigger,\n} from \"@/components/ui/tabs\";\nimport {\n  BookOpen,\n  Users,\n  UserPlus,\n  Plus,\n  Trash2,\n  Loader2,\n  Link2,\n} from \"lucide-react\";\n\nconst sectionToTab = {\n  \"admin-courses\": \"courses\",\n  \"admin-assignments\": \"assignments\",\n  \"admin-students\": \"students\",\n};\n\nexport function AdminDashboard({ user, data }) {\n  const { courses, students, instructors, instructorCourses } = data;\n  const [activeTab, setActiveTab] = useState(\"courses\");\n\n  const handleNavEvent = useCallback((e) => {\n    const detail = e.detail;\n    const tab = sectionToTab[detail?.section];\n    if (tab) {\n      setActiveTab(tab);\n    }\n  }, []);\n\n  useEffect(() => {\n    window.addEventListener(\"quadbase:navigate\", handleNavEvent);\n    return () =>\n      window.removeEventListener(\"quadbase:navigate\", handleNavEvent);\n  }, [handleNavEvent]);\n\n  return (\n    <div className=\"flex flex-col gap-6 p-6 lg:p-8\">\n      <div id=\"dashboard\">\n        <h1 className=\"text-2xl font-bold text-foreground font-serif\">\n          Admin Dashboard\n        </h1>\n        <p className=\"text-muted-foreground\">\n          Manage courses, instructors, and students\n        </p>\n      </div>\n\n      {/* Summary Stats */}\n      <div className=\"grid grid-cols-1 gap-4 sm:grid-cols-3\">\n        <Card>\n          <CardContent className=\"flex items-center gap-4 p-4\">\n            <div className=\"flex h-10 w-10 items-center justify-center rounded-lg bg-primary/10\">\n              <BookOpen className=\"h-5 w-5 text-primary\" />\n            </div>\n            <div>\n              <p className=\"text-2xl font-bold text-foreground\">\n                {courses.length}\n              </p>\n              <p className=\"text-sm text-muted-foreground\">Total Courses</p>\n            </div>\n          </CardContent>\n        </Card>\n        <Card>\n          <CardContent className=\"flex items-center gap-4 p-4\">\n            <div className=\"flex h-10 w-10 items-center justify-center rounded-lg bg-accent/20\">\n              <Users className=\"h-5 w-5 text-accent-foreground\" />\n            </div>\n            <div>\n              <p className=\"text-2xl font-bold text-foreground\">\n                {instructors.length}\n              </p>\n              <p className=\"text-sm text-muted-foreground\">Instructors</p>\n            </div>\n          </CardContent>\n        </Card>\n        <Card>\n          <CardContent className=\"flex items-center gap-4 p-4\">\n            <div className=\"flex h-10 w-10 items-center justify-center rounded-lg bg-chart-3/10\">\n              <UserPlus className=\"h-5 w-5 text-chart-3\" />\n            </div>\n            <div>\n              <p className=\"text-2xl font-bold text-foreground\">\n                {students.length}\n              </p>\n              <p className=\"text-sm text-muted-foreground\">Students</p>\n            </div>\n          </CardContent>\n        </Card>\n      </div>\n\n      <Tabs value={activeTab} onValueChange={setActiveTab}>\n        <TabsList>\n          <TabsTrigger value=\"courses\">Courses</TabsTrigger>\n          <TabsTrigger value=\"assignments\">Assignments</TabsTrigger>\n          <TabsTrigger value=\"students\">Students</TabsTrigger>\n        </TabsList>\n\n        <TabsContent value=\"courses\" className=\"mt-4\">\n          <CoursesTab courses={courses} />\n        </TabsContent>\n        <TabsContent value=\"assignments\" className=\"mt-4\">\n          <AssignmentsTab\n            instructors={instructors}\n            courses={courses}\n            instructorCourses={instructorCourses}\n          />\n        </TabsContent>\n        <TabsContent value=\"students\" className=\"mt-4\">\n          <StudentsTab students={students} />\n        </TabsContent>\n      </Tabs>\n    </div>\n  );\n}\n\nfunction CoursesTab({ courses }) {\n  const [open, setOpen] = useState(false);\n  const [name, setName] = useState(\"\");\n  const [programType, setProgramType] = useState(\"\");\n  const [duration, setDuration] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n  const router = useRouter();\n\n  async function handleCreate() {\n    setLoading(true);\n    try {\n      const res = await fetch(\"/api/courses\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({\n          courseName: name,\n          programType,\n          duration,\n        }),\n      });\n      if (res.ok) {\n        setOpen(false);\n        setName(\"\");\n        setProgramType(\"\");\n        setDuration(\"\");\n        router.refresh();\n      }\n    } finally {\n      setLoading(false);\n    }\n  }\n\n  return (\n    <Card>\n      <CardHeader>\n        <div className=\"flex items-center justify-between\">\n          <div>\n            <CardTitle className=\"text-base font-serif\">All Courses</CardTitle>\n            <CardDescription>\n              {courses.length} courses in the system\n            </CardDescription>\n          </div>\n          <Dialog open={open} onOpenChange={setOpen}>\n            <DialogTrigger asChild>\n              <Button size=\"sm\">\n                <Plus className=\"mr-2 h-4 w-4\" />\n                New Course\n              </Button>\n            </DialogTrigger>\n            <DialogContent>\n              <DialogHeader>\n                <DialogTitle className=\"font-serif\">\n                  Create New Course\n                </DialogTitle>\n                <DialogDescription>\n                  Add a new course to the platform\n                </DialogDescription>\n              </DialogHeader>\n              <div className=\"flex flex-col gap-4\">\n                <div className=\"flex flex-col gap-2\">\n                  <Label htmlFor=\"cname\">Course Name</Label>\n                  <Input\n                    id=\"cname\"\n                    value={name}\n                    onChange={(e) => setName(e.target.value)}\n                    placeholder=\"e.g. Introduction to AI\"\n                  />\n                </div>\n                <div className=\"flex flex-col gap-2\">\n                  <Label htmlFor=\"ptype\">Program Type</Label>\n                  <Select value={programType} onValueChange={setProgramType}>\n                    <SelectTrigger id=\"ptype\">\n                      <SelectValue placeholder=\"Select a type\" />\n                    </SelectTrigger>\n                    <SelectContent>\n                      <SelectItem value=\"Certificate\">Certificate</SelectItem>\n                      <SelectItem value=\"Professional\">Professional</SelectItem>\n                      <SelectItem value=\"Degree\">Degree</SelectItem>\n                    </SelectContent>\n                  </Select>\n                </div>\n                <div className=\"flex flex-col gap-2\">\n                  <Label htmlFor=\"dur\">Duration</Label>\n                  <Input\n                    id=\"dur\"\n                    value={duration}\n                    onChange={(e) => setDuration(e.target.value)}\n                    placeholder=\"e.g. 8 weeks\"\n                  />\n                </div>\n                <Button onClick={handleCreate} disabled={loading || !name}>\n                  {loading ? (\n                    <>\n                      <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" />\n                      Creating...\n                    </>\n                  ) : (\n                    \"Create Course\"\n                  )}\n                </Button>\n              </div>\n            </DialogContent>\n          </Dialog>\n        </div>\n      </CardHeader>\n      <CardContent>\n        <div className=\"overflow-x-auto\">\n          <table className=\"w-full text-sm\">\n            <thead>\n              <tr className=\"border-b text-left text-muted-foreground\">\n                <th className=\"pb-3 pr-4 font-medium\">ID</th>\n                <th className=\"pb-3 pr-4 font-medium\">Course Name</th>\n                <th className=\"pb-3 pr-4 font-medium\">Program</th>\n                <th className=\"pb-3 font-medium\">Duration</th>\n              </tr>\n            </thead>\n            <tbody className=\"divide-y\">\n              {courses.map((c) => (\n                <tr key={c.course_id}>\n                  <td className=\"py-3 pr-4 text-muted-foreground\">\n                    {c.course_id}\n                  </td>\n                  <td className=\"py-3 pr-4 font-medium text-foreground\">\n                    {c.course_name}\n                  </td>\n                  <td className=\"py-3 pr-4\">\n                    <Badge variant=\"secondary\">{c.program_type}</Badge>\n                  </td>\n                  <td className=\"py-3 text-muted-foreground\">{c.duration}</td>\n                </tr>\n              ))}\n            </tbody>\n          </table>\n        </div>\n      </CardContent>\n    </Card>\n  );\n}\n\nfunction AssignmentsTab({ instructors, courses, instructorCourses }) {\n  const [instructorId, setInstructorId] = useState(\"\");\n  const [courseId, setCourseId] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n  const router = useRouter();\n\n  async function handleAssign() {\n    if (!instructorId || !courseId) return;\n    setLoading(true);\n    try {\n      const res = await fetch(\"/api/instructor-course\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({\n          instructorId: Number(instructorId),\n          courseId: Number(courseId),\n        }),\n      });\n      if (res.ok) {\n        setInstructorId(\"\");\n        setCourseId(\"\");\n        router.refresh();\n      }\n    } finally {\n      setLoading(false);\n    }\n  }\n\n  return (\n    <Card>\n      <CardHeader>\n        <CardTitle className=\"text-base font-serif\">\n          Instructor-Course Assignments\n        </CardTitle>\n        <CardDescription>Assign instructors to courses</CardDescription>\n      </CardHeader>\n      <CardContent className=\"flex flex-col gap-6\">\n        <div className=\"flex flex-col gap-4 rounded-lg border p-4 sm:flex-row sm:items-end\">\n          <div className=\"flex flex-1 flex-col gap-2\">\n            <Label>Instructor</Label>\n            <Select value={instructorId} onValueChange={setInstructorId}>\n              <SelectTrigger>\n                <SelectValue placeholder=\"Select instructor\" />\n              </SelectTrigger>\n              <SelectContent>\n                {instructors.map((i) => (\n                  <SelectItem\n                    key={i.instructor_id}\n                    value={String(i.instructor_id)}\n                  >\n                    {i.name}\n                  </SelectItem>\n                ))}\n              </SelectContent>\n            </Select>\n          </div>\n          <div className=\"flex flex-1 flex-col gap-2\">\n            <Label>Course</Label>\n            <Select value={courseId} onValueChange={setCourseId}>\n              <SelectTrigger>\n                <SelectValue placeholder=\"Select course\" />\n              </SelectTrigger>\n              <SelectContent>\n                {courses.map((c) => (\n                  <SelectItem\n                    key={c.course_id}\n                    value={String(c.course_id)}\n                  >\n                    {c.course_name}\n                  </SelectItem>\n                ))}\n              </SelectContent>\n            </Select>\n          </div>\n          <Button onClick={handleAssign} disabled={loading}>\n            {loading ? (\n              <Loader2 className=\"h-4 w-4 animate-spin\" />\n            ) : (\n              <>\n                <Link2 className=\"mr-2 h-4 w-4\" />\n                Assign\n              </>\n            )}\n          </Button>\n        </div>\n\n        <div className=\"overflow-x-auto\">\n          <table className=\"w-full text-sm\">\n            <thead>\n              <tr className=\"border-b text-left text-muted-foreground\">\n                <th className=\"pb-3 pr-4 font-medium\">Instructor</th>\n                <th className=\"pb-3 font-medium\">Course</th>\n              </tr>\n            </thead>\n            <tbody className=\"divide-y\">\n              {instructorCourses.map((ic, idx) => (\n                <tr key={idx}>\n                  <td className=\"py-3 pr-4 font-medium text-foreground\">\n                    {ic.instructor_name}\n                  </td>\n                  <td className=\"py-3 text-muted-foreground\">\n                    {ic.course_name}\n                  </td>\n                </tr>\n              ))}\n            </tbody>\n          </table>\n        </div>\n      </CardContent>\n    </Card>\n  );\n}\n\nfunction StudentsTab({ students }) {\n  const [deleting, setDeleting] = useState(null);\n  const router = useRouter();\n\n  async function handleDelete(studentId) {\n    setDeleting(studentId);\n    try {\n      const res = await fetch(`/api/students?id=${studentId}`, {\n        method: \"DELETE\",\n      });\n      if (res.ok) {\n        router.refresh();\n      }\n    } finally {\n      setDeleting(null);\n    }\n  }\n\n  return (\n    <Card>\n      <CardHeader>\n        <CardTitle className=\"text-base font-serif\">All Students</CardTitle>\n        <CardDescription>\n          {students.length} students in the system\n        </CardDescription>\n      </CardHeader>\n      <CardContent>\n        <div className=\"overflow-x-auto\">\n          <table className=\"w-full text-sm\">\n            <thead>\n              <tr className=\"border-b text-left text-muted-foreground\">\n                <th className=\"pb-3 pr-4 font-medium\">Name</th>\n                <th className=\"pb-3 pr-4 font-medium\">Skill Level</th>\n                <th className=\"pb-3 pr-4 font-medium\">Location</th>\n                <th className=\"pb-3 pr-4 font-medium\">DOB</th>\n                <th className=\"pb-3 font-medium\">Actions</th>\n              </tr>\n            </thead>\n            <tbody className=\"divide-y\">\n              {students.map((s) => (\n                <tr key={s.student_id}>\n                  <td className=\"py-3 pr-4 font-medium text-foreground\">\n                    {s.name}\n                  </td>\n                  <td className=\"py-3 pr-4\">\n                    <Badge variant=\"secondary\">{s.skill_level}</Badge>\n                  </td>\n                  <td className=\"py-3 pr-4 text-muted-foreground\">\n                    {[s.city, s.state, s.country].filter(Boolean).join(\", \")}\n                  </td>\n                  <td className=\"py-3 pr-4 text-muted-foreground\">\n                    {s.dob\n                      ? new Date(s.dob).toLocaleDateString()\n                      : \"N/A\"}\n                  </td>\n                  <td className=\"py-3\">\n                    <Button\n                      variant=\"ghost\"\n                      size=\"sm\"\n                      className=\"text-destructive hover:bg-destructive/10 hover:text-destructive\"\n                      onClick={() => handleDelete(s.student_id)}\n                      disabled={deleting === s.student_id}\n                    >\n                      {deleting === s.student_id ? (\n                        <Loader2 className=\"h-4 w-4 animate-spin\" />\n                      ) : (\n                        <Trash2 className=\"h-4 w-4\" />\n                      )}\n                      <span className=\"sr-only\">Delete student</span>\n                    </Button>\n                  </td>\n                </tr>\n              ))}\n            </tbody>\n          </table>\n        </div>\n      </CardContent>\n    </Card>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 3391, "column": 0}, "map": {"version":3,"sources":["file:///home/ar009/Desktop/DBMS%20Lab/A4/DBMS_OCMS/hooks/use-analytics.js"],"sourcesContent":["\"use client\";\n\nimport { useState, useEffect, useCallback } from \"react\";\n\nexport function useAnalytics(initialFilters = {}) {\n  const [data, setData] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [filters, setFilters] = useState({\n    programType: \"\",\n    courseId: \"\",\n    startDate: \"\",\n    endDate: \"\",\n    view: \"course\",\n    ...initialFilters,\n  });\n\n  const fetchData = useCallback(async () => {\n    setLoading(true);\n    setError(null);\n    try {\n      const params = new URLSearchParams();\n      if (filters.programType) params.set(\"programType\", filters.programType);\n      if (filters.courseId) params.set(\"courseId\", filters.courseId);\n      if (filters.startDate) params.set(\"startDate\", filters.startDate);\n      if (filters.endDate) params.set(\"endDate\", filters.endDate);\n      if (filters.view) params.set(\"view\", filters.view);\n\n      const res = await fetch(`/api/analytics?${params.toString()}`);\n      if (!res.ok) throw new Error(`HTTP ${res.status}`);\n      const json = await res.json();\n      setData(json);\n    } catch (err) {\n      console.error(\"Failed to fetch analytics:\", err);\n      setError(err.message);\n    } finally {\n      setLoading(false);\n    }\n  }, [filters]);\n\n  useEffect(() => {\n    fetchData();\n  }, [fetchData]);\n\n  const updateFilters = useCallback((newFilters) => {\n    setFilters((prev) => ({ ...prev, ...newFilters }));\n  }, []);\n\n  const resetFilters = useCallback(() => {\n    setFilters({\n      programType: \"\",\n      courseId: \"\",\n      startDate: \"\",\n      endDate: \"\",\n      view: \"course\",\n    });\n  }, []);\n\n  return { data, loading, error, filters, updateFilters, resetFilters, refetch: fetchData };\n}\n"],"names":[],"mappings":";;;;AAEA;;AAFA;;AAIO,SAAS,aAAa,iBAAiB,CAAC,CAAC;;IAC9C,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,yKAAQ,EAAC;IACjC,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAC;IACvC,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,yKAAQ,EAAC;IACnC,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAC;QACrC,aAAa;QACb,UAAU;QACV,WAAW;QACX,SAAS;QACT,MAAM;QACN,GAAG,cAAc;IACnB;IAEA,MAAM,YAAY,IAAA,4KAAW;+CAAC;YAC5B,WAAW;YACX,SAAS;YACT,IAAI;gBACF,MAAM,SAAS,IAAI;gBACnB,IAAI,QAAQ,WAAW,EAAE,OAAO,GAAG,CAAC,eAAe,QAAQ,WAAW;gBACtE,IAAI,QAAQ,QAAQ,EAAE,OAAO,GAAG,CAAC,YAAY,QAAQ,QAAQ;gBAC7D,IAAI,QAAQ,SAAS,EAAE,OAAO,GAAG,CAAC,aAAa,QAAQ,SAAS;gBAChE,IAAI,QAAQ,OAAO,EAAE,OAAO,GAAG,CAAC,WAAW,QAAQ,OAAO;gBAC1D,IAAI,QAAQ,IAAI,EAAE,OAAO,GAAG,CAAC,QAAQ,QAAQ,IAAI;gBAEjD,MAAM,MAAM,MAAM,MAAM,CAAC,eAAe,EAAE,OAAO,QAAQ,IAAI;gBAC7D,IAAI,CAAC,IAAI,EAAE,EAAE,MAAM,IAAI,MAAM,CAAC,KAAK,EAAE,IAAI,MAAM,EAAE;gBACjD,MAAM,OAAO,MAAM,IAAI,IAAI;gBAC3B,QAAQ;YACV,EAAE,OAAO,KAAK;gBACZ,QAAQ,KAAK,CAAC,8BAA8B;gBAC5C,SAAS,IAAI,OAAO;YACtB,SAAU;gBACR,WAAW;YACb;QACF;8CAAG;QAAC;KAAQ;IAEZ,IAAA,0KAAS;kCAAC;YACR;QACF;iCAAG;QAAC;KAAU;IAEd,MAAM,gBAAgB,IAAA,4KAAW;mDAAC,CAAC;YACjC;2DAAW,CAAC,OAAS,CAAC;wBAAE,GAAG,IAAI;wBAAE,GAAG,UAAU;oBAAC,CAAC;;QAClD;kDAAG,EAAE;IAEL,MAAM,eAAe,IAAA,4KAAW;kDAAC;YAC/B,WAAW;gBACT,aAAa;gBACb,UAAU;gBACV,WAAW;gBACX,SAAS;gBACT,MAAM;YACR;QACF;iDAAG,EAAE;IAEL,OAAO;QAAE;QAAM;QAAS;QAAO;QAAS;QAAe;QAAc,SAAS;IAAU;AAC1F;GAvDgB"}},
    {"offset": {"line": 3483, "column": 0}, "map": {"version":3,"sources":["file:///home/ar009/Desktop/DBMS%20Lab/A4/DBMS_OCMS/components/dashboards/analytics-filters.jsx"],"sourcesContent":["\"use client\";\n\nimport { Button } from \"@/components/ui/button\";\nimport { Card, CardContent } from \"@/components/ui/card\";\nimport { RotateCcw, BarChart3, UserSearch } from \"lucide-react\";\n\nexport function AnalyticsFilters({\n  filters,\n  onFilterChange,\n  onReset,\n  programTypes = [],\n  courses = [],\n}) {\n  return (\n    <Card>\n      <CardContent className=\"flex flex-wrap items-end gap-4 p-4\">\n        {/* View Toggle */}\n        <div className=\"flex flex-col gap-1\">\n          <label className=\"text-xs font-medium text-muted-foreground\">\n            View\n          </label>\n          <div className=\"flex rounded-md border\">\n            <button\n              type=\"button\"\n              onClick={() => onFilterChange({ view: \"course\" })}\n              className={`flex items-center gap-1.5 px-3 py-1.5 text-xs font-medium rounded-l-md transition-colors cursor-pointer ${\n                filters.view === \"course\"\n                  ? \"bg-primary text-primary-foreground\"\n                  : \"bg-background text-muted-foreground hover:bg-muted\"\n              }`}\n            >\n              <BarChart3 className=\"h-3.5 w-3.5\" />\n              Course-wise\n            </button>\n            <button\n              type=\"button\"\n              onClick={() => onFilterChange({ view: \"student\" })}\n              className={`flex items-center gap-1.5 px-3 py-1.5 text-xs font-medium rounded-r-md transition-colors cursor-pointer ${\n                filters.view === \"student\"\n                  ? \"bg-primary text-primary-foreground\"\n                  : \"bg-background text-muted-foreground hover:bg-muted\"\n              }`}\n            >\n              <UserSearch className=\"h-3.5 w-3.5\" />\n              Student-wise\n            </button>\n          </div>\n        </div>\n\n        {/* Program Type */}\n        <div className=\"flex flex-col gap-1\">\n          <label className=\"text-xs font-medium text-muted-foreground\">\n            Program Type\n          </label>\n          <select\n            value={filters.programType}\n            onChange={(e) => onFilterChange({ programType: e.target.value })}\n            className=\"h-9 rounded-md border bg-background px-3 text-sm text-foreground cursor-pointer\"\n          >\n            <option value=\"\">All Programs</option>\n            {programTypes.map((p) => (\n              <option key={p} value={p}>\n                {p}\n              </option>\n            ))}\n          </select>\n        </div>\n\n        {/* Course */}\n        <div className=\"flex flex-col gap-1\">\n          <label className=\"text-xs font-medium text-muted-foreground\">\n            Course\n          </label>\n          <select\n            value={filters.courseId}\n            onChange={(e) => onFilterChange({ courseId: e.target.value })}\n            className=\"h-9 rounded-md border bg-background px-3 text-sm text-foreground cursor-pointer\"\n          >\n            <option value=\"\">All Courses</option>\n            {courses.map((c) => (\n              <option key={c.course_id} value={c.course_id}>\n                {c.course_name}\n              </option>\n            ))}\n          </select>\n        </div>\n\n        {/* Start Date */}\n        <div className=\"flex flex-col gap-1\">\n          <label className=\"text-xs font-medium text-muted-foreground\">\n            From\n          </label>\n          <input\n            type=\"date\"\n            value={filters.startDate}\n            onChange={(e) => onFilterChange({ startDate: e.target.value })}\n            className=\"h-9 rounded-md border bg-background px-3 text-sm text-foreground cursor-pointer\"\n          />\n        </div>\n\n        {/* End Date */}\n        <div className=\"flex flex-col gap-1\">\n          <label className=\"text-xs font-medium text-muted-foreground\">\n            To\n          </label>\n          <input\n            type=\"date\"\n            value={filters.endDate}\n            onChange={(e) => onFilterChange({ endDate: e.target.value })}\n            className=\"h-9 rounded-md border bg-background px-3 text-sm text-foreground cursor-pointer\"\n          />\n        </div>\n\n        {/* Reset */}\n        <Button variant=\"outline\" size=\"sm\" onClick={onReset} className=\"h-9 cursor-pointer\">\n          <RotateCcw className=\"mr-1.5 h-3.5 w-3.5\" />\n          Reset\n        </Button>\n      </CardContent>\n    </Card>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAAA;AAAA;AAJA;;;;;AAMO,SAAS,iBAAiB,EAC/B,OAAO,EACP,cAAc,EACd,OAAO,EACP,eAAe,EAAE,EACjB,UAAU,EAAE,EACb;IACC,qBACE,6LAAC,oIAAI;kBACH,cAAA,6LAAC,2IAAW;YAAC,WAAU;;8BAErB,6LAAC;oBAAI,WAAU;;sCACb,6LAAC;4BAAM,WAAU;sCAA4C;;;;;;sCAG7D,6LAAC;4BAAI,WAAU;;8CACb,6LAAC;oCACC,MAAK;oCACL,SAAS,IAAM,eAAe;4CAAE,MAAM;wCAAS;oCAC/C,WAAW,CAAC,wGAAwG,EAClH,QAAQ,IAAI,KAAK,WACb,uCACA,sDACJ;;sDAEF,6LAAC,kOAAS;4CAAC,WAAU;;;;;;wCAAgB;;;;;;;8CAGvC,6LAAC;oCACC,MAAK;oCACL,SAAS,IAAM,eAAe;4CAAE,MAAM;wCAAU;oCAChD,WAAW,CAAC,wGAAwG,EAClH,QAAQ,IAAI,KAAK,YACb,uCACA,sDACJ;;sDAEF,6LAAC,mOAAU;4CAAC,WAAU;;;;;;wCAAgB;;;;;;;;;;;;;;;;;;;8BAO5C,6LAAC;oBAAI,WAAU;;sCACb,6LAAC;4BAAM,WAAU;sCAA4C;;;;;;sCAG7D,6LAAC;4BACC,OAAO,QAAQ,WAAW;4BAC1B,UAAU,CAAC,IAAM,eAAe;oCAAE,aAAa,EAAE,MAAM,CAAC,KAAK;gCAAC;4BAC9D,WAAU;;8CAEV,6LAAC;oCAAO,OAAM;8CAAG;;;;;;gCAChB,aAAa,GAAG,CAAC,CAAC,kBACjB,6LAAC;wCAAe,OAAO;kDACpB;uCADU;;;;;;;;;;;;;;;;;8BAQnB,6LAAC;oBAAI,WAAU;;sCACb,6LAAC;4BAAM,WAAU;sCAA4C;;;;;;sCAG7D,6LAAC;4BACC,OAAO,QAAQ,QAAQ;4BACvB,UAAU,CAAC,IAAM,eAAe;oCAAE,UAAU,EAAE,MAAM,CAAC,KAAK;gCAAC;4BAC3D,WAAU;;8CAEV,6LAAC;oCAAO,OAAM;8CAAG;;;;;;gCAChB,QAAQ,GAAG,CAAC,CAAC,kBACZ,6LAAC;wCAAyB,OAAO,EAAE,SAAS;kDACzC,EAAE,WAAW;uCADH,EAAE,SAAS;;;;;;;;;;;;;;;;;8BAQ9B,6LAAC;oBAAI,WAAU;;sCACb,6LAAC;4BAAM,WAAU;sCAA4C;;;;;;sCAG7D,6LAAC;4BACC,MAAK;4BACL,OAAO,QAAQ,SAAS;4BACxB,UAAU,CAAC,IAAM,eAAe;oCAAE,WAAW,EAAE,MAAM,CAAC,KAAK;gCAAC;4BAC5D,WAAU;;;;;;;;;;;;8BAKd,6LAAC;oBAAI,WAAU;;sCACb,6LAAC;4BAAM,WAAU;sCAA4C;;;;;;sCAG7D,6LAAC;4BACC,MAAK;4BACL,OAAO,QAAQ,OAAO;4BACtB,UAAU,CAAC,IAAM,eAAe;oCAAE,SAAS,EAAE,MAAM,CAAC,KAAK;gCAAC;4BAC1D,WAAU;;;;;;;;;;;;8BAKd,6LAAC,wIAAM;oBAAC,SAAQ;oBAAU,MAAK;oBAAK,SAAS;oBAAS,WAAU;;sCAC9D,6LAAC,gOAAS;4BAAC,WAAU;;;;;;wBAAuB;;;;;;;;;;;;;;;;;;AAMtD;KAnHgB"}},
    {"offset": {"line": 3763, "column": 0}, "map": {"version":3,"sources":["file:///home/ar009/Desktop/DBMS%20Lab/A4/DBMS_OCMS/components/dashboards/student-course-matrix.jsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useState } from \"react\";\nimport { Badge } from \"@/components/ui/badge\";\nimport {\n  Card,\n  CardContent,\n  CardDescription,\n  CardHeader,\n  CardTitle,\n} from \"@/components/ui/card\";\nimport { Loader2, AlertCircle } from \"lucide-react\";\n\nfunction getMarkColor(score) {\n  if (score == null) return \"\";\n  if (score >= 90)\n    return \"bg-emerald-100 text-emerald-800 dark:bg-emerald-900/40 dark:text-emerald-300\";\n  if (score >= 80)\n    return \"bg-blue-100 text-blue-800 dark:bg-blue-900/40 dark:text-blue-300\";\n  if (score >= 70)\n    return \"bg-amber-100 text-amber-800 dark:bg-amber-900/40 dark:text-amber-300\";\n  if (score >= 60)\n    return \"bg-orange-100 text-orange-800 dark:bg-orange-900/40 dark:text-orange-300\";\n  return \"bg-red-100 text-red-800 dark:bg-red-900/40 dark:text-red-300\";\n}\n\nexport function StudentCourseMatrix() {\n  const [data, setData] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    async function fetchMatrix() {\n      try {\n        const res = await fetch(\"/api/analytics/matrix\");\n        if (!res.ok) throw new Error(`HTTP ${res.status}`);\n        const json = await res.json();\n        setData(json);\n      } catch (err) {\n        setError(err.message);\n      } finally {\n        setLoading(false);\n      }\n    }\n    fetchMatrix();\n  }, []);\n\n  if (loading) {\n    return (\n      <Card>\n        <CardContent className=\"flex items-center justify-center py-12 gap-2 text-muted-foreground\">\n          <Loader2 className=\"h-4 w-4 animate-spin\" />\n          <span>Loading marks matrix</span>\n        </CardContent>\n      </Card>\n    );\n  }\n\n  if (error) {\n    return (\n      <Card>\n        <CardContent className=\"flex items-center justify-center py-12 gap-2 text-destructive\">\n          <AlertCircle className=\"h-5 w-5\" />\n          <span className=\"text-sm\">Failed to load matrix: {error}</span>\n        </CardContent>\n      </Card>\n    );\n  }\n\n  const { courses = [], students = [] } = data || {};\n\n  return (\n    <Card>\n      <CardHeader>\n        <CardTitle className=\"text-base font-serif\">\n          Student  Course Marks Matrix\n        </CardTitle>\n        <CardDescription>\n          Evaluation scores per student per course  hover over cells for details\n        </CardDescription>\n        <div className=\"flex flex-wrap gap-3 pt-2\">\n          <span\n            className={`inline-flex items-center rounded px-2 py-0.5 text-xs font-medium ${getMarkColor(\n              95\n            )}`}\n          >\n            90100\n          </span>\n          <span\n            className={`inline-flex items-center rounded px-2 py-0.5 text-xs font-medium ${getMarkColor(\n              85\n            )}`}\n          >\n            8089\n          </span>\n          <span\n            className={`inline-flex items-center rounded px-2 py-0.5 text-xs font-medium ${getMarkColor(\n              75\n            )}`}\n          >\n            7079\n          </span>\n          <span\n            className={`inline-flex items-center rounded px-2 py-0.5 text-xs font-medium ${getMarkColor(\n              65\n            )}`}\n          >\n            6069\n          </span>\n          <span\n            className={`inline-flex items-center rounded px-2 py-0.5 text-xs font-medium ${getMarkColor(\n              50\n            )}`}\n          >\n            &lt;60\n          </span>\n          <Badge variant=\"outline\" className=\"text-xs\">\n             Not Enrolled\n          </Badge>\n          <Badge variant=\"secondary\" className=\"text-xs\">\n            In Progress\n          </Badge>\n        </div>\n      </CardHeader>\n      <CardContent>\n        <div className=\"overflow-x-auto pb-2\">\n          <table className=\"w-full text-sm border-collapse min-w-[600px]\">\n            <thead>\n              <tr className=\"border-b text-left text-muted-foreground\">\n                <th className=\"pb-3 pr-3 font-medium sticky left-0 bg-card z-10 min-w-[140px]\">\n                  Student\n                </th>\n                {courses.map((c) => (\n                  <th\n                    key={c.course_id}\n                    className=\"pb-3 px-2 font-medium text-center min-w-[90px]\"\n                    title={c.course_name}\n                  >\n                    <span className=\"block max-w-[100px] truncate mx-auto\">\n                      {c.course_name.length > 14\n                        ? c.course_name.substring(0, 14) + \"\"\n                        : c.course_name}\n                    </span>\n                  </th>\n                ))}\n              </tr>\n            </thead>\n            <tbody className=\"divide-y\">\n              {students.map((student) => (\n                <tr\n                  key={student.student_id}\n                  className=\"hover:bg-muted/50 cursor-default\"\n                >\n                  <td className=\"py-2.5 pr-3 font-medium text-foreground sticky left-0 bg-card z-10\">\n                    <div>{student.student_name}</div>\n                    <div className=\"text-xs text-muted-foreground font-normal\">\n                      {student.skill_level || \"\"}\n                    </div>\n                  </td>\n                  {courses.map((c) => {\n                    const entry = student.grades[c.course_id];\n                    if (!entry) {\n                      return (\n                        <td key={c.course_id} className=\"py-2.5 px-2 text-center\">\n                          <span className=\"text-muted-foreground/40\"></span>\n                        </td>\n                      );\n                    }\n                    if (entry.evaluation == null) {\n                      return (\n                        <td key={c.course_id} className=\"py-2.5 px-2 text-center\">\n                          <Badge\n                            variant=\"secondary\"\n                            className=\"text-[10px] px-1.5 py-0 cursor-default\"\n                          >\n                            In Progress\n                          </Badge>\n                        </td>\n                      );\n                    }\n                    return (\n                      <td\n                        key={c.course_id}\n                        className=\"py-2.5 px-2 text-center\"\n                        title={`${c.course_name}: ${entry.evaluation}/100`}\n                      >\n                        <span\n                          className={`inline-flex items-center justify-center rounded w-10 h-7 text-xs font-bold cursor-default ${getMarkColor(\n                            entry.evaluation\n                          )}`}\n                        >\n                          {entry.evaluation}\n                        </span>\n                      </td>\n                    );\n                  })}\n                </tr>\n              ))}\n            </tbody>\n          </table>\n        </div>\n      </CardContent>\n    </Card>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 4142, "column": 0}, "map": {"version":3,"sources":["file:///home/ar009/Desktop/DBMS%20Lab/A4/DBMS_OCMS/components/dashboards/analyst-dashboard.jsx"],"sourcesContent":["\"use client\";\n\nimport { Badge } from \"@/components/ui/badge\";\nimport {\n  Card,\n  CardContent,\n  CardDescription,\n  CardHeader,\n  CardTitle,\n} from \"@/components/ui/card\";\nimport {\n  BookOpen,\n  Users,\n  GraduationCap,\n  TrendingUp,\n  Loader2,\n  AlertCircle,\n} from \"lucide-react\";\nimport {\n  BarChart,\n  Bar,\n  XAxis,\n  YAxis,\n  CartesianGrid,\n  Tooltip,\n  ResponsiveContainer,\n  PieChart,\n  Pie,\n  Cell,\n  Legend,\n} from \"recharts\";\nimport { useAnalytics } from \"@/hooks/use-analytics\";\nimport { AnalyticsFilters } from \"@/components/dashboards/analytics-filters\";\nimport { StudentCourseMatrix } from \"@/components/dashboards/student-course-matrix\";\n\nconst PIE_COLORS = [\n  \"hsl(192, 70%, 35%)\",\n  \"hsl(38, 90%, 55%)\",\n  \"hsl(160, 50%, 40%)\",\n  \"hsl(220, 60%, 55%)\",\n  \"hsl(340, 65%, 55%)\",\n];\n\nexport function AnalystDashboard() {\n  const { data, loading, error, filters, updateFilters, resetFilters } =\n    useAnalytics();\n\n  if (loading && !data) {\n    return (\n      <div className=\"flex items-center justify-center min-h-[60vh] gap-2 text-muted-foreground\">\n        <Loader2 className=\"h-5 w-5 animate-spin\" />\n        <span>Loading analytics</span>\n      </div>\n    );\n  }\n\n  if (error && !data) {\n    return (\n      <div className=\"flex flex-col items-center justify-center min-h-[60vh] gap-2 text-destructive\">\n        <AlertCircle className=\"h-8 w-8\" />\n        <p className=\"text-sm\">Failed to load analytics: {error}</p>\n      </div>\n    );\n  }\n\n  const {\n    enrollmentStats = [],\n    performanceDistribution = [],\n    studentStats = [],\n    summary = {},\n    filters: filterOptions = {},\n  } = data || {};\n\n  const barData = enrollmentStats.map((s) => ({\n    name:\n      s.course_name.length > 18\n        ? s.course_name.substring(0, 18) + \"...\"\n        : s.course_name,\n    enrollments: Number(s.enrollment_count),\n    avgGrade: Number(s.avg_evaluation) || 0,\n  }));\n\n  const pieData = performanceDistribution.map((d) => ({\n    name: d.grade_range,\n    value: Number(d.count),\n  }));\n\n  const studentBarData = studentStats.slice(0, 20).map((s) => ({\n    name:\n      s.student_name.length > 16\n        ? s.student_name.substring(0, 16) + \"...\"\n        : s.student_name,\n    avgGrade: Number(s.avg_grade) || 0,\n    courses: Number(s.courses_enrolled),\n  }));\n\n  return (\n    <div className=\"flex flex-col gap-6 p-6 pr-8 lg:p-8 lg:pr-10 overflow-x-hidden\">\n      <div id=\"dashboard\">\n        <h1 className=\"text-2xl font-bold text-foreground font-serif\">\n          Analytics Dashboard\n        </h1>\n        <p className=\"text-muted-foreground\">\n          Course enrollment and student performance metrics\n        </p>\n      </div>\n\n      {/* Filters */}\n      <AnalyticsFilters\n        filters={filters}\n        onFilterChange={updateFilters}\n        onReset={resetFilters}\n        programTypes={filterOptions.programTypes || []}\n        courses={filterOptions.courses || []}\n      />\n\n      {/* Loading overlay for filter changes */}\n      {loading && data && (\n        <div className=\"flex items-center gap-2 text-sm text-muted-foreground\">\n          <Loader2 className=\"h-4 w-4 animate-spin\" />\n          Updating\n        </div>\n      )}\n\n      {/* KPI Cards */}\n      <div id=\"analytics\" className=\"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-4\">\n        <Card className=\"cursor-default\">\n          <CardContent className=\"flex items-center gap-4 p-4\">\n            <div className=\"flex h-10 w-10 items-center justify-center rounded-lg bg-primary/10\">\n              <BookOpen className=\"h-5 w-5 text-primary\" />\n            </div>\n            <div>\n              <p className=\"text-2xl font-bold text-foreground\">\n                {summary.totalCourses ?? 0}\n              </p>\n              <p className=\"text-sm text-muted-foreground\">Total Courses</p>\n            </div>\n          </CardContent>\n        </Card>\n        <Card className=\"cursor-default\">\n          <CardContent className=\"flex items-center gap-4 p-4\">\n            <div className=\"flex h-10 w-10 items-center justify-center rounded-lg bg-accent/20\">\n              <Users className=\"h-5 w-5 text-accent-foreground\" />\n            </div>\n            <div>\n              <p className=\"text-2xl font-bold text-foreground\">\n                {summary.totalStudents ?? 0}\n              </p>\n              <p className=\"text-sm text-muted-foreground\">Total Students</p>\n            </div>\n          </CardContent>\n        </Card>\n        <Card className=\"cursor-default\">\n          <CardContent className=\"flex items-center gap-4 p-4\">\n            <div className=\"flex h-10 w-10 items-center justify-center rounded-lg bg-chart-3/10\">\n              <GraduationCap className=\"h-5 w-5 text-chart-3\" />\n            </div>\n            <div>\n              <p className=\"text-2xl font-bold text-foreground\">\n                {summary.totalEnrollments ?? 0}\n              </p>\n              <p className=\"text-sm text-muted-foreground\">\n                Total Enrollments\n              </p>\n            </div>\n          </CardContent>\n        </Card>\n        <Card className=\"cursor-default\">\n          <CardContent className=\"flex items-center gap-4 p-4\">\n            <div className=\"flex h-10 w-10 items-center justify-center rounded-lg bg-chart-4/10\">\n              <TrendingUp className=\"h-5 w-5 text-chart-4\" />\n            </div>\n            <div>\n              <p className=\"text-2xl font-bold text-foreground\">\n                {summary.avgEvaluation ?? \"N/A\"}\n              </p>\n              <p className=\"text-sm text-muted-foreground\">Avg Grade</p>\n            </div>\n          </CardContent>\n        </Card>\n      </div>\n\n      {/* Charts Row */}\n      <div className=\"grid grid-cols-1 gap-6 lg:grid-cols-3\">\n        <Card className=\"lg:col-span-2\">\n          <CardHeader>\n            <CardTitle className=\"text-base font-serif\">\n              {filters.view === \"student\"\n                ? \"Top Students by Average Grade\"\n                : \"Enrollment by Course\"}\n            </CardTitle>\n            <CardDescription>\n              {filters.view === \"student\"\n                ? \"Average grade of top 20 students\"\n                : \"Number of students enrolled per course\"}\n            </CardDescription>\n          </CardHeader>\n          <CardContent>\n            <div className=\"h-72\">\n              <ResponsiveContainer width=\"100%\" height=\"100%\">\n                {filters.view === \"student\" ? (\n                  <BarChart data={studentBarData} className=\"cursor-pointer\">\n                    <CartesianGrid strokeDasharray=\"3 3\" stroke=\"hsl(200, 15%, 88%)\" />\n                    <XAxis dataKey=\"name\" tick={{ fontSize: 11 }} angle={-20} textAnchor=\"end\" height={60} />\n                    <YAxis tick={{ fontSize: 12 }} allowDecimals={false} />\n                    <Tooltip contentStyle={{ borderRadius: \"8px\", border: \"1px solid hsl(200, 15%, 88%)\", fontSize: \"13px\" }} cursor={{ fill: \"hsl(200, 15%, 93%)\" }} />\n                    <Bar dataKey=\"avgGrade\" fill=\"hsl(220, 60%, 55%)\" radius={[4, 4, 0, 0]} name=\"Avg Grade\" className=\"cursor-pointer\" />\n                    <Bar dataKey=\"courses\" fill=\"hsl(160, 50%, 40%)\" radius={[4, 4, 0, 0]} name=\"Courses Enrolled\" className=\"cursor-pointer\" />\n                  </BarChart>\n                ) : (\n                  <BarChart data={barData} className=\"cursor-pointer\">\n                    <CartesianGrid strokeDasharray=\"3 3\" stroke=\"hsl(200, 15%, 88%)\" />\n                    <XAxis dataKey=\"name\" tick={{ fontSize: 11 }} angle={-20} textAnchor=\"end\" height={60} />\n                    <YAxis tick={{ fontSize: 12 }} allowDecimals={false} />\n                    <Tooltip contentStyle={{ borderRadius: \"8px\", border: \"1px solid hsl(200, 15%, 88%)\", fontSize: \"13px\" }} cursor={{ fill: \"hsl(200, 15%, 93%)\" }} />\n                    <Bar dataKey=\"enrollments\" fill=\"hsl(192, 70%, 35%)\" radius={[4, 4, 0, 0]} name=\"Enrollments\" className=\"cursor-pointer\" />\n                  </BarChart>\n                )}\n              </ResponsiveContainer>\n            </div>\n          </CardContent>\n        </Card>\n\n        <Card>\n          <CardHeader>\n            <CardTitle className=\"text-base font-serif\">Grade Distribution</CardTitle>\n            <CardDescription>Student performance breakdown</CardDescription>\n          </CardHeader>\n          <CardContent className=\"pr-2\">\n            <div className=\"h-72\">\n              {pieData.length > 0 ? (\n                <ResponsiveContainer width=\"100%\" height=\"100%\">\n                  <PieChart>\n                    <Pie\n                      data={pieData}\n                      cx=\"50%\"\n                      cy=\"42%\"\n                      outerRadius={70}\n                      innerRadius={30}\n                      dataKey=\"value\"\n                      paddingAngle={2}\n                      className=\"cursor-pointer\"\n                    >\n                      {pieData.map((_, index) => (\n                        <Cell key={`cell-${index}`} fill={PIE_COLORS[index % PIE_COLORS.length]} />\n                      ))}\n                    </Pie>\n                    <Tooltip\n                      contentStyle={{ borderRadius: \"8px\", border: \"1px solid hsl(200, 15%, 88%)\", fontSize: \"13px\" }}\n                      formatter={(value, name) => [`${value} students`, name]}\n                    />\n                    <Legend\n                      wrapperStyle={{ fontSize: \"11px\", paddingTop: \"4px\" }}\n                      iconSize={10}\n                      layout=\"horizontal\"\n                      verticalAlign=\"bottom\"\n                      align=\"center\"\n                    />\n                  </PieChart>\n                </ResponsiveContainer>\n              ) : (\n                <div className=\"flex h-full items-center justify-center text-sm text-muted-foreground\">\n                  No grade data available\n                </div>\n              )}\n            </div>\n          </CardContent>\n        </Card>\n      </div>\n\n      {/* Student  Course Grade Matrix */}\n      <StudentCourseMatrix />\n\n      {/* Course-wise Table */}\n      {filters.view === \"course\" && (\n        <Card>\n          <CardHeader>\n            <CardTitle className=\"text-base font-serif\">Course Performance Details</CardTitle>\n            <CardDescription>Enrollment counts and evaluation metrics per course</CardDescription>\n          </CardHeader>\n          <CardContent>\n            <div className=\"overflow-x-auto\">\n              {enrollmentStats.length > 0 ? (\n                <table className=\"w-full text-sm\">\n                  <thead>\n                    <tr className=\"border-b text-left text-muted-foreground\">\n                      <th className=\"pb-3 pr-4 font-medium\">Course</th>\n                      <th className=\"pb-3 pr-4 font-medium\">Program</th>\n                      <th className=\"pb-3 pr-4 font-medium\">Duration</th>\n                      <th className=\"pb-3 pr-4 font-medium text-right\">Enrolled</th>\n                      <th className=\"pb-3 pr-4 font-medium text-right\">Avg Grade</th>\n                      <th className=\"pb-3 pr-4 font-medium text-right\">Min</th>\n                      <th className=\"pb-3 font-medium text-right\">Max</th>\n                    </tr>\n                  </thead>\n                  <tbody className=\"divide-y\">\n                    {enrollmentStats.map((s) => (\n                      <tr key={s.course_id} className=\"hover:bg-muted/50 cursor-default\">\n                        <td className=\"py-3 pr-4 font-medium text-foreground\">{s.course_name}</td>\n                        <td className=\"py-3 pr-4\">\n                          <Badge variant=\"secondary\">{s.program_type || \"-\"}</Badge>\n                        </td>\n                        <td className=\"py-3 pr-4 text-muted-foreground\">{s.duration || \"-\"}</td>\n                        <td className=\"py-3 pr-4 text-right text-foreground\">{s.enrollment_count}</td>\n                        <td className=\"py-3 pr-4 text-right\">\n                          {s.avg_evaluation ? (\n                            <Badge variant={Number(s.avg_evaluation) >= 70 ? \"default\" : \"destructive\"}>\n                              {s.avg_evaluation}\n                            </Badge>\n                          ) : (\n                            <span className=\"text-muted-foreground\">-</span>\n                          )}\n                        </td>\n                        <td className=\"py-3 pr-4 text-right text-muted-foreground\">{s.min_evaluation ?? \"-\"}</td>\n                        <td className=\"py-3 text-right text-muted-foreground\">{s.max_evaluation ?? \"-\"}</td>\n                      </tr>\n                    ))}\n                  </tbody>\n                </table>\n              ) : (\n                <p className=\"py-8 text-center text-sm text-muted-foreground\">\n                  No course data found for the selected filters.\n                </p>\n              )}\n            </div>\n          </CardContent>\n        </Card>\n      )}\n\n      {/* Student-wise Table */}\n      {filters.view === \"student\" && (\n        <Card>\n          <CardHeader>\n            <CardTitle className=\"text-base font-serif\">Student Performance Details</CardTitle>\n            <CardDescription>Individual student grades and enrollment counts</CardDescription>\n          </CardHeader>\n          <CardContent>\n            <div className=\"overflow-x-auto\">\n              {studentStats.length > 0 ? (\n                <table className=\"w-full text-sm\">\n                  <thead>\n                    <tr className=\"border-b text-left text-muted-foreground\">\n                      <th className=\"pb-3 pr-4 font-medium\">Student</th>\n                      <th className=\"pb-3 pr-4 font-medium\">Skill Level</th>\n                      <th className=\"pb-3 pr-4 font-medium\">Location</th>\n                      <th className=\"pb-3 pr-4 font-medium text-right\">Courses</th>\n                      <th className=\"pb-3 pr-4 font-medium text-right\">Avg Grade</th>\n                      <th className=\"pb-3 pr-4 font-medium text-right\">Min</th>\n                      <th className=\"pb-3 font-medium text-right\">Max</th>\n                    </tr>\n                  </thead>\n                  <tbody className=\"divide-y\">\n                    {studentStats.map((s) => (\n                      <tr key={s.student_id} className=\"hover:bg-muted/50 cursor-default\">\n                        <td className=\"py-3 pr-4 font-medium text-foreground\">{s.student_name}</td>\n                        <td className=\"py-3 pr-4\">\n                          <Badge variant=\"secondary\">{s.skill_level || \"-\"}</Badge>\n                        </td>\n                        <td className=\"py-3 pr-4 text-muted-foreground\">\n                          {[s.city, s.country].filter(Boolean).join(\", \") || \"-\"}\n                        </td>\n                        <td className=\"py-3 pr-4 text-right text-foreground\">{s.courses_enrolled}</td>\n                        <td className=\"py-3 pr-4 text-right\">\n                          {s.avg_grade ? (\n                            <Badge variant={Number(s.avg_grade) >= 70 ? \"default\" : \"destructive\"}>\n                              {s.avg_grade}\n                            </Badge>\n                          ) : (\n                            <span className=\"text-muted-foreground\">-</span>\n                          )}\n                        </td>\n                        <td className=\"py-3 pr-4 text-right text-muted-foreground\">{s.min_grade ?? \"-\"}</td>\n                        <td className=\"py-3 text-right text-muted-foreground\">{s.max_grade ?? \"-\"}</td>\n                      </tr>\n                    ))}\n                  </tbody>\n                </table>\n              ) : (\n                <p className=\"py-8 text-center text-sm text-muted-foreground\">\n                  No student data found for the selected filters.\n                </p>\n              )}\n            </div>\n          </CardContent>\n        </Card>\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAOA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAaA;AACA;AACA;;;AAjCA;;;;;;;;AAmCA,MAAM,aAAa;IACjB;IACA;IACA;IACA;IACA;CACD;AAEM,SAAS;;IACd,MAAM,EAAE,IAAI,EAAE,OAAO,EAAE,KAAK,EAAE,OAAO,EAAE,aAAa,EAAE,YAAY,EAAE,GAClE,IAAA,4IAAY;IAEd,IAAI,WAAW,CAAC,MAAM;QACpB,qBACE,6LAAC;YAAI,WAAU;;8BACb,6LAAC,+NAAO;oBAAC,WAAU;;;;;;8BACnB,6LAAC;8BAAK;;;;;;;;;;;;IAGZ;IAEA,IAAI,SAAS,CAAC,MAAM;QAClB,qBACE,6LAAC;YAAI,WAAU;;8BACb,6LAAC,sOAAW;oBAAC,WAAU;;;;;;8BACvB,6LAAC;oBAAE,WAAU;;wBAAU;wBAA2B;;;;;;;;;;;;;IAGxD;IAEA,MAAM,EACJ,kBAAkB,EAAE,EACpB,0BAA0B,EAAE,EAC5B,eAAe,EAAE,EACjB,UAAU,CAAC,CAAC,EACZ,SAAS,gBAAgB,CAAC,CAAC,EAC5B,GAAG,QAAQ,CAAC;IAEb,MAAM,UAAU,gBAAgB,GAAG,CAAC,CAAC,IAAM,CAAC;YAC1C,MACE,EAAE,WAAW,CAAC,MAAM,GAAG,KACnB,EAAE,WAAW,CAAC,SAAS,CAAC,GAAG,MAAM,QACjC,EAAE,WAAW;YACnB,aAAa,OAAO,EAAE,gBAAgB;YACtC,UAAU,OAAO,EAAE,cAAc,KAAK;QACxC,CAAC;IAED,MAAM,UAAU,wBAAwB,GAAG,CAAC,CAAC,IAAM,CAAC;YAClD,MAAM,EAAE,WAAW;YACnB,OAAO,OAAO,EAAE,KAAK;QACvB,CAAC;IAED,MAAM,iBAAiB,aAAa,KAAK,CAAC,GAAG,IAAI,GAAG,CAAC,CAAC,IAAM,CAAC;YAC3D,MACE,EAAE,YAAY,CAAC,MAAM,GAAG,KACpB,EAAE,YAAY,CAAC,SAAS,CAAC,GAAG,MAAM,QAClC,EAAE,YAAY;YACpB,UAAU,OAAO,EAAE,SAAS,KAAK;YACjC,SAAS,OAAO,EAAE,gBAAgB;QACpC,CAAC;IAED,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBAAI,IAAG;;kCACN,6LAAC;wBAAG,WAAU;kCAAgD;;;;;;kCAG9D,6LAAC;wBAAE,WAAU;kCAAwB;;;;;;;;;;;;0BAMvC,6LAAC,wKAAgB;gBACf,SAAS;gBACT,gBAAgB;gBAChB,SAAS;gBACT,cAAc,cAAc,YAAY,IAAI,EAAE;gBAC9C,SAAS,cAAc,OAAO,IAAI,EAAE;;;;;;YAIrC,WAAW,sBACV,6LAAC;gBAAI,WAAU;;kCACb,6LAAC,+NAAO;wBAAC,WAAU;;;;;;oBAAyB;;;;;;;0BAMhD,6LAAC;gBAAI,IAAG;gBAAY,WAAU;;kCAC5B,6LAAC,oIAAI;wBAAC,WAAU;kCACd,cAAA,6LAAC,2IAAW;4BAAC,WAAU;;8CACrB,6LAAC;oCAAI,WAAU;8CACb,cAAA,6LAAC,6NAAQ;wCAAC,WAAU;;;;;;;;;;;8CAEtB,6LAAC;;sDACC,6LAAC;4CAAE,WAAU;sDACV,QAAQ,YAAY,IAAI;;;;;;sDAE3B,6LAAC;4CAAE,WAAU;sDAAgC;;;;;;;;;;;;;;;;;;;;;;;kCAInD,6LAAC,oIAAI;wBAAC,WAAU;kCACd,cAAA,6LAAC,2IAAW;4BAAC,WAAU;;8CACrB,6LAAC;oCAAI,WAAU;8CACb,cAAA,6LAAC,gNAAK;wCAAC,WAAU;;;;;;;;;;;8CAEnB,6LAAC;;sDACC,6LAAC;4CAAE,WAAU;sDACV,QAAQ,aAAa,IAAI;;;;;;sDAE5B,6LAAC;4CAAE,WAAU;sDAAgC;;;;;;;;;;;;;;;;;;;;;;;kCAInD,6LAAC,oIAAI;wBAAC,WAAU;kCACd,cAAA,6LAAC,2IAAW;4BAAC,WAAU;;8CACrB,6LAAC;oCAAI,WAAU;8CACb,cAAA,6LAAC,4OAAa;wCAAC,WAAU;;;;;;;;;;;8CAE3B,6LAAC;;sDACC,6LAAC;4CAAE,WAAU;sDACV,QAAQ,gBAAgB,IAAI;;;;;;sDAE/B,6LAAC;4CAAE,WAAU;sDAAgC;;;;;;;;;;;;;;;;;;;;;;;kCAMnD,6LAAC,oIAAI;wBAAC,WAAU;kCACd,cAAA,6LAAC,2IAAW;4BAAC,WAAU;;8CACrB,6LAAC;oCAAI,WAAU;8CACb,cAAA,6LAAC,mOAAU;wCAAC,WAAU;;;;;;;;;;;8CAExB,6LAAC;;sDACC,6LAAC;4CAAE,WAAU;sDACV,QAAQ,aAAa,IAAI;;;;;;sDAE5B,6LAAC;4CAAE,WAAU;sDAAgC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;0BAOrD,6LAAC;gBAAI,WAAU;;kCACb,6LAAC,oIAAI;wBAAC,WAAU;;0CACd,6LAAC,0IAAU;;kDACT,6LAAC,yIAAS;wCAAC,WAAU;kDAClB,QAAQ,IAAI,KAAK,YACd,kCACA;;;;;;kDAEN,6LAAC,+IAAe;kDACb,QAAQ,IAAI,KAAK,YACd,qCACA;;;;;;;;;;;;0CAGR,6LAAC,2IAAW;0CACV,cAAA,6LAAC;oCAAI,WAAU;8CACb,cAAA,6LAAC,6LAAmB;wCAAC,OAAM;wCAAO,QAAO;kDACtC,QAAQ,IAAI,KAAK,0BAChB,6LAAC,mKAAQ;4CAAC,MAAM;4CAAgB,WAAU;;8DACxC,6LAAC,iLAAa;oDAAC,iBAAgB;oDAAM,QAAO;;;;;;8DAC5C,6LAAC,iKAAK;oDAAC,SAAQ;oDAAO,MAAM;wDAAE,UAAU;oDAAG;oDAAG,OAAO,CAAC;oDAAI,YAAW;oDAAM,QAAQ;;;;;;8DACnF,6LAAC,iKAAK;oDAAC,MAAM;wDAAE,UAAU;oDAAG;oDAAG,eAAe;;;;;;8DAC9C,6LAAC,qKAAO;oDAAC,cAAc;wDAAE,cAAc;wDAAO,QAAQ;wDAAgC,UAAU;oDAAO;oDAAG,QAAQ;wDAAE,MAAM;oDAAqB;;;;;;8DAC/I,6LAAC,6JAAG;oDAAC,SAAQ;oDAAW,MAAK;oDAAqB,QAAQ;wDAAC;wDAAG;wDAAG;wDAAG;qDAAE;oDAAE,MAAK;oDAAY,WAAU;;;;;;8DACnG,6LAAC,6JAAG;oDAAC,SAAQ;oDAAU,MAAK;oDAAqB,QAAQ;wDAAC;wDAAG;wDAAG;wDAAG;qDAAE;oDAAE,MAAK;oDAAmB,WAAU;;;;;;;;;;;iEAG3G,6LAAC,mKAAQ;4CAAC,MAAM;4CAAS,WAAU;;8DACjC,6LAAC,iLAAa;oDAAC,iBAAgB;oDAAM,QAAO;;;;;;8DAC5C,6LAAC,iKAAK;oDAAC,SAAQ;oDAAO,MAAM;wDAAE,UAAU;oDAAG;oDAAG,OAAO,CAAC;oDAAI,YAAW;oDAAM,QAAQ;;;;;;8DACnF,6LAAC,iKAAK;oDAAC,MAAM;wDAAE,UAAU;oDAAG;oDAAG,eAAe;;;;;;8DAC9C,6LAAC,qKAAO;oDAAC,cAAc;wDAAE,cAAc;wDAAO,QAAQ;wDAAgC,UAAU;oDAAO;oDAAG,QAAQ;wDAAE,MAAM;oDAAqB;;;;;;8DAC/I,6LAAC,6JAAG;oDAAC,SAAQ;oDAAc,MAAK;oDAAqB,QAAQ;wDAAC;wDAAG;wDAAG;wDAAG;qDAAE;oDAAE,MAAK;oDAAc,WAAU;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;kCAQpH,6LAAC,oIAAI;;0CACH,6LAAC,0IAAU;;kDACT,6LAAC,yIAAS;wCAAC,WAAU;kDAAuB;;;;;;kDAC5C,6LAAC,+IAAe;kDAAC;;;;;;;;;;;;0CAEnB,6LAAC,2IAAW;gCAAC,WAAU;0CACrB,cAAA,6LAAC;oCAAI,WAAU;8CACZ,QAAQ,MAAM,GAAG,kBAChB,6LAAC,6LAAmB;wCAAC,OAAM;wCAAO,QAAO;kDACvC,cAAA,6LAAC,mKAAQ;;8DACP,6LAAC,yJAAG;oDACF,MAAM;oDACN,IAAG;oDACH,IAAG;oDACH,aAAa;oDACb,aAAa;oDACb,SAAQ;oDACR,cAAc;oDACd,WAAU;8DAET,QAAQ,GAAG,CAAC,CAAC,GAAG,sBACf,6LAAC,+JAAI;4DAAuB,MAAM,UAAU,CAAC,QAAQ,WAAW,MAAM,CAAC;2DAA5D,CAAC,KAAK,EAAE,OAAO;;;;;;;;;;8DAG9B,6LAAC,qKAAO;oDACN,cAAc;wDAAE,cAAc;wDAAO,QAAQ;wDAAgC,UAAU;oDAAO;oDAC9F,WAAW,CAAC,OAAO,OAAS;4DAAC,GAAG,MAAM,SAAS,CAAC;4DAAE;yDAAK;;;;;;8DAEzD,6LAAC,mKAAM;oDACL,cAAc;wDAAE,UAAU;wDAAQ,YAAY;oDAAM;oDACpD,UAAU;oDACV,QAAO;oDACP,eAAc;oDACd,OAAM;;;;;;;;;;;;;;;;6DAKZ,6LAAC;wCAAI,WAAU;kDAAwE;;;;;;;;;;;;;;;;;;;;;;;;;;;;0BAUjG,6LAAC,kLAAmB;;;;;YAGnB,QAAQ,IAAI,KAAK,0BAChB,6LAAC,oIAAI;;kCACH,6LAAC,0IAAU;;0CACT,6LAAC,yIAAS;gCAAC,WAAU;0CAAuB;;;;;;0CAC5C,6LAAC,+IAAe;0CAAC;;;;;;;;;;;;kCAEnB,6LAAC,2IAAW;kCACV,cAAA,6LAAC;4BAAI,WAAU;sCACZ,gBAAgB,MAAM,GAAG,kBACxB,6LAAC;gCAAM,WAAU;;kDACf,6LAAC;kDACC,cAAA,6LAAC;4CAAG,WAAU;;8DACZ,6LAAC;oDAAG,WAAU;8DAAwB;;;;;;8DACtC,6LAAC;oDAAG,WAAU;8DAAwB;;;;;;8DACtC,6LAAC;oDAAG,WAAU;8DAAwB;;;;;;8DACtC,6LAAC;oDAAG,WAAU;8DAAmC;;;;;;8DACjD,6LAAC;oDAAG,WAAU;8DAAmC;;;;;;8DACjD,6LAAC;oDAAG,WAAU;8DAAmC;;;;;;8DACjD,6LAAC;oDAAG,WAAU;8DAA8B;;;;;;;;;;;;;;;;;kDAGhD,6LAAC;wCAAM,WAAU;kDACd,gBAAgB,GAAG,CAAC,CAAC,kBACpB,6LAAC;gDAAqB,WAAU;;kEAC9B,6LAAC;wDAAG,WAAU;kEAAyC,EAAE,WAAW;;;;;;kEACpE,6LAAC;wDAAG,WAAU;kEACZ,cAAA,6LAAC,sIAAK;4DAAC,SAAQ;sEAAa,EAAE,YAAY,IAAI;;;;;;;;;;;kEAEhD,6LAAC;wDAAG,WAAU;kEAAmC,EAAE,QAAQ,IAAI;;;;;;kEAC/D,6LAAC;wDAAG,WAAU;kEAAwC,EAAE,gBAAgB;;;;;;kEACxE,6LAAC;wDAAG,WAAU;kEACX,EAAE,cAAc,iBACf,6LAAC,sIAAK;4DAAC,SAAS,OAAO,EAAE,cAAc,KAAK,KAAK,YAAY;sEAC1D,EAAE,cAAc;;;;;iFAGnB,6LAAC;4DAAK,WAAU;sEAAwB;;;;;;;;;;;kEAG5C,6LAAC;wDAAG,WAAU;kEAA8C,EAAE,cAAc,IAAI;;;;;;kEAChF,6LAAC;wDAAG,WAAU;kEAAyC,EAAE,cAAc,IAAI;;;;;;;+CAjBpE,EAAE,SAAS;;;;;;;;;;;;;;;qDAuB1B,6LAAC;gCAAE,WAAU;0CAAiD;;;;;;;;;;;;;;;;;;;;;;YAUvE,QAAQ,IAAI,KAAK,2BAChB,6LAAC,oIAAI;;kCACH,6LAAC,0IAAU;;0CACT,6LAAC,yIAAS;gCAAC,WAAU;0CAAuB;;;;;;0CAC5C,6LAAC,+IAAe;0CAAC;;;;;;;;;;;;kCAEnB,6LAAC,2IAAW;kCACV,cAAA,6LAAC;4BAAI,WAAU;sCACZ,aAAa,MAAM,GAAG,kBACrB,6LAAC;gCAAM,WAAU;;kDACf,6LAAC;kDACC,cAAA,6LAAC;4CAAG,WAAU;;8DACZ,6LAAC;oDAAG,WAAU;8DAAwB;;;;;;8DACtC,6LAAC;oDAAG,WAAU;8DAAwB;;;;;;8DACtC,6LAAC;oDAAG,WAAU;8DAAwB;;;;;;8DACtC,6LAAC;oDAAG,WAAU;8DAAmC;;;;;;8DACjD,6LAAC;oDAAG,WAAU;8DAAmC;;;;;;8DACjD,6LAAC;oDAAG,WAAU;8DAAmC;;;;;;8DACjD,6LAAC;oDAAG,WAAU;8DAA8B;;;;;;;;;;;;;;;;;kDAGhD,6LAAC;wCAAM,WAAU;kDACd,aAAa,GAAG,CAAC,CAAC,kBACjB,6LAAC;gDAAsB,WAAU;;kEAC/B,6LAAC;wDAAG,WAAU;kEAAyC,EAAE,YAAY;;;;;;kEACrE,6LAAC;wDAAG,WAAU;kEACZ,cAAA,6LAAC,sIAAK;4DAAC,SAAQ;sEAAa,EAAE,WAAW,IAAI;;;;;;;;;;;kEAE/C,6LAAC;wDAAG,WAAU;kEACX;4DAAC,EAAE,IAAI;4DAAE,EAAE,OAAO;yDAAC,CAAC,MAAM,CAAC,SAAS,IAAI,CAAC,SAAS;;;;;;kEAErD,6LAAC;wDAAG,WAAU;kEAAwC,EAAE,gBAAgB;;;;;;kEACxE,6LAAC;wDAAG,WAAU;kEACX,EAAE,SAAS,iBACV,6LAAC,sIAAK;4DAAC,SAAS,OAAO,EAAE,SAAS,KAAK,KAAK,YAAY;sEACrD,EAAE,SAAS;;;;;iFAGd,6LAAC;4DAAK,WAAU;sEAAwB;;;;;;;;;;;kEAG5C,6LAAC;wDAAG,WAAU;kEAA8C,EAAE,SAAS,IAAI;;;;;;kEAC3E,6LAAC;wDAAG,WAAU;kEAAyC,EAAE,SAAS,IAAI;;;;;;;+CAnB/D,EAAE,UAAU;;;;;;;;;;;;;;;qDAyB3B,6LAAC;gCAAE,WAAU;0CAAiD;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAU9E;GAzVgB;;QAEZ,4IAAY;;;KAFA"}}]
}